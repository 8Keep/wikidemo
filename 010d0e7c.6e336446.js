(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{136:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return c})),r.d(t,"metadata",(function(){return i})),r.d(t,"rightToc",(function(){return p})),r.d(t,"default",(function(){return l}));var n=r(1),o=r(9),a=(r(0),r(441)),c={},i={id:"jme3/advanced/jme3_renderbuckets",title:"jme3_renderbuckets",description:"For each viewport the rendering happens as follows:",source:"@site/docs/jme3/advanced/jme3_renderbuckets.md",permalink:"/wikidemo/docs/jme3/advanced/jme3_renderbuckets",editUrl:"https://github.com/8keep/wikidemo/edit/master/docs/jme3/advanced/jme3_renderbuckets.md"},p=[],s={rightToc:p};function l(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},s,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"For each viewport the rendering happens as follows:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"For each processor call preFrame")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Dispatch each geometry in a corresponding renderQueue (one for each\nBucket) and build shadow queues")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"For each processor call postQueues")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Rendering OpaqueBucket with object sorted front to back. (In order\nto minimize overdraw)")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Rendering SkyBucket with depth forced to 1.0. this means every\nobject of this bucket will be far away and behind everything")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Rendering TransparentBucket with object sorted back to front. (So\ntransparent objects can be seen correctly through each other)")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"For each processor call postFrame")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Rendering TranslucentBucket with objects sorted back to front"))),Object(a.b)("p",null,"The translucent bucket is rendered at the end. That's where you put\ntransparent object that you don't want to be affected by post processing\n( shadows or what ever). Self-light-emitting particle emitters (such as\na fire) are a good example."),Object(a.b)("p",null,"Post processors are not applied to this bucket with one exception : the\nFilterPostProcessor."),Object(a.b)("p",null,"The filter post processor hijacks the rendering process and renders a\nfull screen quad with the texture of the scene applied on it."),Object(a.b)("p",null,"Once it's done the depth buffer is 0, so it's impossible to render a\nqueue over it with proper depth test so if you use a FilterPostProcessor\nyou have to add at the end of your filter stack the\nTranslucentBucketFilter. It will handle the translucent bucket rendering\ninstead of the RenderManager. (Of course the correct depth information\nis passed to the filter)."),Object(a.b)("p",null,"The nice side effect of this is that if you want to apply a post filter\nto your translucent bucket (like bloom for example) you can just push up\nthe translucent bucket filter in the filter stack."))}l.isMDXComponent=!0},441:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=o.a.createContext({}),l=function(e){var t=o.a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i({},t,{},e)),r},u=function(e){var t=l(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=Object(n.forwardRef)((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=l(r),d=n,f=u["".concat(c,".").concat(d)]||u[d]||b[d]||a;return r?o.a.createElement(f,i({ref:t},s,{components:r})):o.a.createElement(f,i({ref:t},s))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,c=new Array(a);c[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var s=2;s<a;s++)c[s]=r[s];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"}}]);