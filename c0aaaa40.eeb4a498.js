(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{370:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(1),i=n(9),o=(n(0),n(441)),r={},l={id:"sdk/debugging_profiling_testing",title:"debugging_profiling_testing",description:"Debugging, testing and profiling are important parts of the development",source:"@site/docs/sdk/debugging_profiling_testing.md",permalink:"/wikidemo/docs/sdk/debugging_profiling_testing",editUrl:"https://github.com/8keep/wikidemo/edit/master/docs/sdk/debugging_profiling_testing.md"},c=[{value:"Creating Tests",id:"creating-tests",children:[]},{value:"Running Tests",id:"running-tests",children:[]},{value:"Installing the Profiler",id:"installing-the-profiler",children:[]},{value:"Monitoring and Analyzing",id:"monitoring-and-analyzing",children:[]},{value:"Comparing Snapshots",id:"comparing-snapshots",children:[]},{value:"Using Profiling Points",id:"using-profiling-points",children:[]}],s={rightToc:c};function b(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Debugging, testing and profiling are important parts of the development\ncycle. This documentation shows you how to make the most of the\njMonkeyEngine SDK's assistive features."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},'Since the jMonkeyEngine SDK is based on the NetBeans IDE and the\nNetBeans Platform, you can learn about certain jMonkeyEngine SDK\nfeatures by reading the corresponding NetBeans IDE tutorials (in the\n"see also links).'))),Object(o.b)("h1",{id:"testing"},"Testing"),Object(o.b)("p",null,'The jMonkeyEngine SDK supports the JUnit testing framework. It is a good\npractice to write tests (assertions) for each of your classes. Each test\nmakes certain this "unit (e.g. method) meets its design and behaves as\nintended. Run your tests after each major change and you immediately see\nif you broke something.'),Object(o.b)("h2",{id:"creating-tests"},"Creating Tests"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Right-click a Java file in the Projects window and choose Tools ",">","\nCreate JUnit Tests.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click OK. The jMonkeyEngine SDK creates a JUnit test skeleton in the\nTest Package directory.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The body of each generated test method is provided solely as a\nguide. In their place, you need to write your actual test cases!")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"You can use tests such as\n",Object(o.b)("inlineCode",{parentName:"p"},"assertTrue(), assertFalse(), assertEquals()"),", or ",Object(o.b)("inlineCode",{parentName:"p"},"assert()"),"."),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"The following example assertions test an addition method:\n",Object(o.b)("inlineCode",{parentName:"li"},"assert( add(1, 1) == 2); assertTrue( add(7,-5) == add(-5,7) )\u2026")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},'"Ideally, you write a test case for every method (100% coverage).'))),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Use the Navigate menu to jump from a test to its tested class, and back!"))),Object(o.b)("h2",{id:"running-tests"},"Running Tests"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run one or all tests:"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Right-click the class in the Projects window and Choose Test\nFile, or")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Right-click the project and select Test to run all tests.")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Check the Test window to see successful tests (green) and failures\n(red).")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"If a test fails that has succeeded before, you know that your latest\nchanges broke something!"))),Object(o.b)("p",null,"Using unit tests regularly allows you to detect side-effects on classes\nthat you thought were unaffected by a code change."),Object(o.b)("p",null,"See also:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://netbeans.org/kb/docs/java/junit-intro.html"}),"Writing JUnit\nTests"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://www.junit.org"}),"http://www.junit.org"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html"}),"Java\nAssertions")))),Object(o.b)("h1",{id:"debugging"},"Debugging"),Object(o.b)("p",null,"In the jMonkeyEngine SDK, you have access to a debugger to examine your\napplication for errors such as deadlocks and NullPointerExeptions. You\ncan set breakpoints, watch variables, and execute your code line-by-line\nto identify the source of a problem."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"First, you set breakpoints and/or watches before the problematic\nlines of code where you suspect the bug."),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"If you want to watch a variable's value: Right-click on a\nvariable and select New Watch from the context menu.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"If you want to step through the execution line by line:\nRight-click on a line and choose Toggle Line Breakpoint; a pink\nbox appears as a mark.")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},'Choose "Debug ',">"," Debug Main Project to start a debugger session for\nthe whole project. Or, right-click a file and select Debug File to\ndebug only one file.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The application starts running normally. If you have set a\nbreakpoint, the execution stops in this line. Debugger windows open\nand print debugger output.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"You can do many things now to track down a bug:"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Inspect the values of local variables.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Use the Step buttons in the top to step into, out of, and over\nexpressions while you watch the execution.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Navigate through your application's call stack. Right-click on\nthreads to suspend or resume them.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Choose Debug ",">"," Evaluate Expression from the menu to evaluate an\nexpression.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Move the mouse pointer over a variable to inspect its value in a\ntooltip.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Inspect the classes loaded on the heap and the percentage and\nnumber of object instances. Right-click a class in the Loaded\nClasses window and choose Show in Instances view (JDK 6 only).")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"And more...")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To stop debugging, choose Debug ",">"," End Debugger Session from the\nmenu."))),Object(o.b)("h1",{id:"profiling"},"Profiling"),Object(o.b)("p",null,"The profiler tool is used to monitor thread states, CPU performance, and\nmemory usage of your jme3 application. It helps you detect memory leaks\nand bottlenecks in your game while it's running."),Object(o.b)("h2",{id:"installing-the-profiler"},"Installing the Profiler"),Object(o.b)("p",null,"If you do not see a Profiler menu in the jMonkeyEngine SDK, you need to\ndownload the Profiler plugin first."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Open the Tools ",">",' Plugins menu, and got to the "Available plugins\ntab')),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},'Find the "Java Profiler plugin ("Java SE category) and check the\nInstall box.')),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click the install button and follow the instructions.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},'When you start the profiler for the first time, you are prompted to\nrun a calibration once. Click OK in the "Profiler integration dialog\nto complete the installation process.'))),Object(o.b)("h2",{id:"monitoring-and-analyzing"},"Monitoring and Analyzing"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Choose Profile Project from the Profile menu.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select one of three tasks:"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"Monitor Application")," -- Collect high-level information about\nproperties of the target JVM, including thread activity and\nmemory allocations.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"Analyze CPU Performance")," -- Collect detailed data on\napplication performance, including the time to execute methods\nand the number of times the method is invoked.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"Analyze Memory Usage")," -- Collect detailed data on object\nallocation and garbage collection.")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click Run. Your application starts and runs normally.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Use the Profiling window to track and collect live profiling results\nwhile you application is running."))),Object(o.b)("h2",{id:"comparing-snapshots"},"Comparing Snapshots"),Object(o.b)("p",null,"Click the Take Snapshot button to capture the profiling data for later!"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"You can store and view snapshots in the Profiling window.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Choose Compare Snapshots from the profiler window to compare two\nselected snapshots"))),Object(o.b)("h2",{id:"using-profiling-points"},"Using Profiling Points"),Object(o.b)("p",null,"Profiling points are similar to debugger breakpoints: You place them\ndirectly in the source code and they can trigger profiling behaviour\nwhen hit."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Open a class in the browser, right-click in a line, and select\nProfiling ",">"," Insert Profiling Point to add a profiling point here.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Use Profiling points if you need a trigger to reset profiling\nresults, take a snapshot or heap dump, record the timestamp or\nexecution time of a code fragment, stop and start a load generator\nscript (requires the load generator plugin).")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Open the Profiling Points window to view, modify and delete the\nProfiling Points in your projects."))),Object(o.b)("p",null,"See also:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://netbeans.org/kb/docs/java/profiler-intro.html"}),"Introduction to Profiling Java Applications\n(netbeans.org)"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://netbeans.org/kb/docs/java/profiler-profilingpoints.html"}),"Using Profiling Points\n(netbeans.org)")))))}b.isMDXComponent=!0},441:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n(0),i=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=i.a.createContext({}),b=function(e){var t=i.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},p=function(e){var t=b(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},m=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=b(n),m=a,d=p["".concat(r,".").concat(m)]||p[m]||u[m]||o;return n?i.a.createElement(d,l({ref:t},s,{components:n})):i.a.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var s=2;s<o;s++)r[s]=n[s];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);