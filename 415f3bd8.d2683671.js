(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{225:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return b})),a.d(t,"default",(function(){return p}));var n=a(1),i=a(9),r=(a(0),a(441)),o={},l={id:"jme3/external/blender",title:"blender",description:"This section discusses how to create and import models from Blender3D",source:"@site/docs/jme3/external/blender.md",permalink:"/wikidemo/docs/jme3/external/blender",editUrl:"https://github.com/8keep/wikidemo/edit/master/docs/jme3/external/blender.md",sidebar:"main",previous:{title:"transparency_sorting",permalink:"/wikidemo/docs/jme3/intermediate/transparency_sorting"},next:{title:"3dsmax",permalink:"/wikidemo/docs/jme3/external/3dsmax"}},b=[{value:"UV Mapped Textures",id:"uv-mapped-textures",children:[]},{value:"Animations",id:"animations",children:[]},{value:"Model Checklist",id:"model-checklist",children:[]},{value:"Blender Modeling LowPoly &amp; HighPoly",id:"blender-modeling-lowpoly--highpoly",children:[]},{value:"Fixing the Normal colors in Blender",id:"fixing-the-normal-colors-in-blender",children:[]},{value:"Blender modeling + texturing",id:"blender-modeling--texturing",children:[]}],c={rightToc:b};function p(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,'This section discusses how to create and import models from Blender3D\n(2.78+, see bottom of page for Blender 2.49 and before) to jME3.\nFurthermore, it explains how you can create various typical game-related\nassets like "Normal" maps of high-poly models and "Baked Lighting" maps.'),Object(r.b)("h1",{id:"asset-management"},"Asset Management"),Object(r.b)("p",null,"For the managing of assets in general, be sure to read the ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"../../jme3/intermediate/multi-media_asset_pipeline"}),"Asset\nPipeline\nDocumentation"),".\nIt contains vital information on how to manage your asset files."),Object(r.b)("h1",{id:"creating-models"},"Creating Models"),Object(r.b)("p",null,"Game-compatible models are models that basically only consist of a mesh\nand UV-mapped textures, in some cases animations. All other material\nparameters or effects (like particles, etc.) cannot be expected to be\ntransferred properly and probably would not translate to live rendering\nvery well anyway."),Object(r.b)("h2",{id:"uv-mapped-textures"},"UV Mapped Textures"),Object(r.b)("p",null,"To successfully import a texture, the texture ",Object(r.b)("strong",{parentName:"p"},"has to"),' be UV-mapped to\nthe model. Heres how to assign "Diffuse", "Normal" and "Specular" maps:'),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender-material-4.png",alt:"blender-material-4.png"}))),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender-material-3.png",alt:"blender-material-3.png"}))),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender-material-2.png",alt:"blender-material-2.png"}))),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender-material-1.png",alt:"blender-material-1.png"}))),Object(r.b)("p",null,"It's important to note that each used texture will create one separate\ngeometry. So it's best to either combine the UV maps or use a pre-made\natlas with different texture types from the start and then map the uv\ncoords of the models to the atlas instead of painting on the texture.\nThis works best for large models like cities and space ships."),Object(r.b)("h2",{id:"animations"},"Animations"),Object(r.b)("p",null,"Animations for jME3 have to be bone animations, mesh deformation or\nother forms of animation are not supported."),Object(r.b)("p",null,"To create an animation from scratch do the following:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create the model."),Object(r.b)("p",{parentName:"li"},'a.  Make sure your models location, rotation and scale is applied\nand zero / one (see "Model Checklist" below).'),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),":::note\nDid you know? You can make any model from a box by only using\nextrusion, this creates very clean meshes.\n:::\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create the armature bones, don't forget to have one root bone!"),Object(r.b)("p",{parentName:"li"},"a.  Start by placing the cursor at zero."),Object(r.b)("p",{parentName:"li"},"b.  Go to the ",Object(r.b)("inlineCode",{parentName:"p"},"Add Armature Single Bone")," menu and create the root\nbone."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"![blender-add-bone.png](/images/jme3/external/blender-add-bone.png)\n")),Object(r.b)("p",{parentName:"li"},"c.  Select the bone and go to edit mode (press Tab)."),Object(r.b)("p",{parentName:"li"},"d.  Select the root bone end and press E to extrude the bone, then\nstart rigging your model this way."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'::: {.important}\nMake sure your armature\'s location, rotation and scale is\napplied (see "Model Checklist" below) before continuing.\n:::\n'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Make the armature the parent of the model."),Object(r.b)("p",{parentName:"li"},"a.  Make sure you are back in object mode (press Tab again)."),Object(r.b)("p",{parentName:"li"},"b.  First select the model object then select the armature object\nwith Shift pressed, then press Ctrl + P."),Object(r.b)("p",{parentName:"li"},"c.  When you do this, you can select how the bone groups will be\nmapped to the model vertices initially. Select With Automatic\nWeights."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),":::note\nWhen you parent your mesh to the armature, Blender automatically\nadds the `Armature` modifier to the mesh.\n\n![blender-make-armature.png](/images/jme3/external/blender-make-armature.png)\n:::\n\nVoila, your model should move when you move the bones in pose\nmode.\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"From the ",Object(r.b)("inlineCode",{parentName:"p"},"Info")," header, press the Choose Screen Layout button and\nselect the ",Object(r.b)("inlineCode",{parentName:"p"},"Animation")," layout.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"Dope Sheet Editor")," window, press the Context button and\nselect ",Object(r.b)("inlineCode",{parentName:"p"},"Action Editor"),"."),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender-action-editor.png",alt:"blender-action-editor.png"})))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add an action by pressing the + button.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'Set the "Rotation Mode" of the bone to ',Object(r.b)("inlineCode",{parentName:"p"},"Quaternion"),' or switch later\nfrom your "Rotation Mode" to ',Object(r.b)("inlineCode",{parentName:"p"},"Quaternion")," and make a ",Object(r.b)("inlineCode",{parentName:"p"},"Keyframe"),"."),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender-switch-rotationmode.png",alt:"blender-switch-rotationmode.png"})))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create the ",Object(r.b)("inlineCode",{parentName:"p"},"Keyframe"),"s (select the model armature and press I) along\nthe timeline."),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender-add-keyframes.png",alt:"blender-add-keyframes.png"}))),Object(r.b)("p",{parentName:"li"},"Each action will be an animation available via the animation control\nin jME after the import."),Object(r.b)("p",{parentName:"li"},"::: {.important}\nPress the F button next to the action so it will be saved even if\nthere's no references. The animation would else be deleted if its\nnot the active animation on the armature and the file is saved.\n:::"))),Object(r.b)("h2",{id:"model-checklist"},"Model Checklist"),Object(r.b)("p",null,"Sometimes you do not create the model yourself and often models from the\nweb are not really made for OpenGL live rendering or not completely\ncompatible with the bone system in jME."),Object(r.b)("p",null,"To export an animated model in Blender make sure the following\nconditions are met:"),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This checklist is interactive for your convenience."))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f The animation has to be a ",Object(r.b)("strong",{parentName:"p"},"bone animation"),".")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Apply Location, Rotation and Scale to the mesh in Blender: In the\n",Object(r.b)("inlineCode",{parentName:"p"},"3D Viewport")," in Blender, select the mesh in ",Object(r.b)("inlineCode",{parentName:"p"},"Object Mode"),", from the\n",Object(r.b)("inlineCode",{parentName:"p"},"3D View Editor")," header, click\n",Object(r.b)("inlineCode",{parentName:"p"},"Object Apply Location / Rotation / Scale"),"."),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender_apply_mesh.png",alt:"blender_apply_mesh.png"})))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Apply Location, Rotation and Scale to the armature in Blender: In\nthe ",Object(r.b)("inlineCode",{parentName:"p"},"3D Viewport")," in Blender, select the armature in ",Object(r.b)("inlineCode",{parentName:"p"},"Object Mode"),",\nfrom the ",Object(r.b)("inlineCode",{parentName:"p"},"3D View Editor")," header, click\n",Object(r.b)("inlineCode",{parentName:"p"},"Object Apply Location / Rotation / Scale"),"."),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender_apply_bones.png",alt:"blender_apply_bones.png"})))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Set the mesh's origin point in the bottom of the mesh (see the\nimage below).")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Set the armature's origin point in the bottom of the armature (see\nthe image below).")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Armature's origin point and mesh's origin point must be in the\nsame location (see the image below).")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Use a root bone located in the armature's origin. This root bone\nmust be in vertical position (see the image below) and it is the\nroot bone of the armature. If you rotate the root bone, the entire\narmature might be rotated when you import the model into jMonkey.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Uncheck:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Bone Envelopes"),Object(r.b)("p",{parentName:"li"},"on the Armature modifier for the mesh (see the image below)."),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender_envelopes.png",alt:"blender_envelopes.png"})))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u274f Under the armature data tab, make sure the bone type is\n",Object(r.b)("inlineCode",{parentName:"p"},"Octahedral")," (see image below)."),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender_rootbone2.png",alt:"blender_rootbone2.png"}))))),Object(r.b)("p",null,"You can use ",Object(r.b)("inlineCode",{parentName:"p"},"SkeletonDebugger")," to show the skeleton on your game in\norder to check if the mesh and the skeleton are loaded correctly:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),'final Material soldier2Mat = assetManager.loadMaterial("Materials/soldier2/soldier2.j3m");\nfinal Spatial soldier2 = assetManager.loadModel("Models/soldier2/soldier2.j3o");\nTangentBinormalGenerator.generate(soldier2);\nsoldier2.setMaterial(soldier2Mat);\n\nfinal Node soldier2Node = new Node("Soldier2 Node");\n\nsoldier2Node.attachChild(soldier2);\nrootNode.attachChild(soldier2Node);\n\nfinal AnimControl animControl = soldier2.getControl(AnimControl.class);\nanimControl.addListener(this);\nfinal AnimChannel animChannel = animControl.createChannel();\n\nfinal SkeletonDebugger skeletonDebug = new SkeletonDebugger("skeleton", animControl.getSkeleton());\nfinal Material mat = new Material(assetManager, "Common/MatDefs/Misc/Unshaded.j3md");\nmat.setColor("Color", ColorRGBA.Green);\nmat.getAdditionalRenderState().setDepthTest(false);\nskeletonDebug.setMaterial(mat);\nsoldier2Node.attachChild(skeletonDebug);\n')),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/blender_finished.png",alt:"blender_finished.png"}))),Object(r.b)("p",null,"Also check out these videos and resources:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://hub.jmonkeyengine.org/t/importing-animations-from-blender-2-62-using-ogre-xml-things-to-check-if-you-are-getting-problems/22234"}),"Forum: How to import animated models from Blender 2.6\ncorrectly"),"\n(",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.youtube.com/watch?v=QiLCs4AKh28"}),"Video"),")")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"http://www.youtube.com/watch?v=NdjC9sCRV0s"}),"Video tutorial for animated models from Blender\n2.6"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.google.com/fileview?id=0B9hhZie2D-fENDBlZDU5MzgtNzlkYi00YmQzLTliNTQtNzZhYTJhYjEzNWNk&hl=en"}),"Exporting OgreXML scenes from Blender 2.49 to\njME")))),Object(r.b)("h1",{id:"action-baking"},"Action Baking"),Object(r.b)("p",null,"There are many 3D model ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"../../jme3/features.html.xml#supported-external-file-types#"}),"Supported External File\nTypes")," for\njMonkeyEngine. Some of them bake your actions automatically on export,\nothers don't. Baking is a destructive process so it is recommended that\nyou test the animation in-game first. If your animations are all messed\nup, try baking them or use a different exporter."),Object(r.b)("p",null,"If you find yourself in need of baking, the process is as follows."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"From the Blender ",Object(r.b)("inlineCode",{parentName:"p"},"Info")," header, select ",Object(r.b)("inlineCode",{parentName:"p"},"File Save Copy"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Save the file somewhere other than the current folder. This will\nsave you the effort of re-creating the animation file if you need it\nat some other time.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"Info")," header, change the ",Object(r.b)("inlineCode",{parentName:"p"},"Default")," screen layout to\n",Object(r.b)("inlineCode",{parentName:"p"},"Animation"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"Dope Sheet Editor"),", change the ",Object(r.b)("inlineCode",{parentName:"p"},"Dope Sheet")," mode/context to\n",Object(r.b)("inlineCode",{parentName:"p"},"Action Editor"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click the Action to be linked button and select your action.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"3d Viewport")," header, select the armature."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Depending on the mode selected choose:"),Object(r.b)("p",{parentName:"li"},"a.  Object Mode: ",Object(r.b)("inlineCode",{parentName:"p"},"Object Animation Bake Action"),"."),Object(r.b)("p",{parentName:"li"},"b.  Pose Mode: ",Object(r.b)("inlineCode",{parentName:"p"},"Pose Animation Bake Action"),".")))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"Bake Action")," dialog, deselect and set the settings as\nfollows:"),Object(r.b)("p",{parentName:"li"},"Bake Action"),Object(r.b)("p",{parentName:"li"},":   -   \u274f Selected Only"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"-   \u2713 Visual Keying\n\n-   \u2713 Clear Constraints\n\n-   \u274f Clear Parents\n\n-   \u274f Overwrite Current -\xa0 Bake Data = Pose\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"When ready click OK.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"The ",Object(r.b)("inlineCode",{parentName:"p"},"Linked Action")," in the ",Object(r.b)("inlineCode",{parentName:"p"},"Dope Sheet Editor")," will change to the\nnewly baked action and is named ",Object(r.b)("inlineCode",{parentName:"p"},"Action"),". Rename this to the name of\nthe imported animation.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select the F button to save the action.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Save your file.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Clear the old action from the ",Object(r.b)("inlineCode",{parentName:"p"},"Linked Action")," buffer. See ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"../../jme3/external/blender/blender_buffer_clearing"}),"Blender\nBuffer\nClearing"),"\nfor more information."))),Object(r.b)("h1",{id:"normal-map-baking"},"Normal Map baking"),Object(r.b)("p",null,'Models for live rendering should have a low polygon count. To increase\nthe perceived detail of a model, Normal maps are commonly used in games.\nThis tutorial will show how to create a Normal map from a "HighPoly"\nversion of your model that you can apply to a "LowPoly" version of the\nmodel in your game.'),Object(r.b)("h2",{id:"blender-modeling-lowpoly--highpoly"},"Blender Modeling LowPoly & HighPoly"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Method 1.")),Object(r.b)("p",null,"If you use the ",Object(r.b)("inlineCode",{parentName:"p"},"Multiresolution")," modifier you only need one object.\nLet's look at this example, the Blender object Monkey, with an applied\n",Object(r.b)("inlineCode",{parentName:"p"},"Triangulate")," modifier:"),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/monkey.png",alt:"monkey.png"}))),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'Add a "Monkey" object by selecting the Monkey button located on the\n"Create Tab".'),Object(r.b)("p",{parentName:"li"},"a.  While in ",Object(r.b)("inlineCode",{parentName:"p"},"Object Mode"),", in the ",Object(r.b)("inlineCode",{parentName:"p"},"Properties")," panel under the\n",Object(r.b)("inlineCode",{parentName:"p"},"Modifiers")," tab, add a ",Object(r.b)("inlineCode",{parentName:"p"},"Triangulate")," modifier and apply it:"),Object(r.b)("p",{parentName:"li"},"b.  While in ",Object(r.b)("inlineCode",{parentName:"p"},"Object Mode"),", in the ",Object(r.b)("inlineCode",{parentName:"p"},"Properties")," panel under the\n",Object(r.b)("inlineCode",{parentName:"p"},"Modifiers")," tab, add a ",Object(r.b)("inlineCode",{parentName:"p"},"Multiresolution")," modifier:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'![3.1.gif](../../jme3/external/3.1.gif)\n\nThere are two types of modifiers: Catmull-Clark and Simple.\n\n-   Simple is better for things like walls or floors.\n\n-   Catmull-Clark is better for objects like spheres.\n\nWhen using Catmull-Clark with a higher "subdivide" value (more\nthan 3), it\'s good to have the "Preview" value above 0 and less\nthan the subdivide level. This is because Catmull-Clark smooths\nthe vertices, so the Normal map is not so precise.\n\nRegardless of the choice, the larger the difference is between\n"Render" and "Preview", the deeper the detail is on the Normal\nmap.\n\n-   Here is an example of `Preview 1`, it\'s more smooth than the\n    original mesh:\n\n![monkkeyprev1.png](/images/jme3/external/monkeyprev1.png)\n'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"From the ",Object(r.b)("inlineCode",{parentName:"p"},"File"),' header at the top of the 3d View, click the Choose\nScreen layout button and select "UV Editing".')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"3d View"),', select the Monkey and Tab into "Edit Mode".')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"If the Monkey vertices are not already highlighted, press the A key\nuntil all vertices are highlighted.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"From the ",Object(r.b)("inlineCode",{parentName:"p"},"3d View")," header, select ",Object(r.b)("inlineCode",{parentName:"p"},"Mesh UV Unwrap Smart UV Project"),"."),Object(r.b)("p",{parentName:"li"},"a.  Click the Island Margin button once to advance the value to .03."),Object(r.b)("p",{parentName:"li"},"b.  Click OK when ready.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"UV Image Editor"),", click the New button."),Object(r.b)("p",{parentName:"li"},'a.  Change the name to something like "monkey',"_",'bump".'),Object(r.b)("p",{parentName:"li"},"b.  Optionally, change the ",Object(r.b)("inlineCode",{parentName:"p"},"Generated Type"),' to "UV Grid".'),Object(r.b)("p",{parentName:"li"},"c.  Uncheck:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"-   \u274f 32 Bit\n")),Object(r.b)("p",{parentName:"li"},"d.  Click OK when ready.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"From the ",Object(r.b)("inlineCode",{parentName:"p"},"File")," header at the top of the ",Object(r.b)("inlineCode",{parentName:"p"},"UV Image Editor"),', click\nthe Choose Screen layout button and select "Default".')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"With your mouse inside the ",Object(r.b)("inlineCode",{parentName:"p"},"3D View"),", tab into ",Object(r.b)("inlineCode",{parentName:"p"},"Object Mode"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Now go into the ",Object(r.b)("inlineCode",{parentName:"p"},"Render")," tab, and bake a ",Object(r.b)("inlineCode",{parentName:"p"},"Normal")," map using the same\nconfiguration as here:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"../../jme3/external/4.gif",alt:"4.gif"}))),Object(r.b)("p",{parentName:"li"},"::: {.important}\nRemember! The actual preview affects the baking output and mesh\nexport!\n:::")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Navigate back to the ",Object(r.b)("inlineCode",{parentName:"p"},"UV Editing")," layout and save your image by\nselecting ",Object(r.b)("inlineCode",{parentName:"p"},"Image* Save As")," from the ",Object(r.b)("inlineCode",{parentName:"p"},"UV Image Editor")," header."))),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"The asterisk ","*"," next to the ",Object(r.b)("inlineCode",{parentName:"p"},"Image")," menu item means the image has not\nyet been saved."))),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/monkey_bump.png",alt:"Normal map from Method 1"}))),Object(r.b)("p",null,"This second method produces the best results by far:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'Follow the steps for "Method 1" but before baking, uncheck:'),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\u274f Bake from Multires"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Make a copy of your mesh (SHIFT+D).")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Remove the Multires modifier from the copied model.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Remove any materials from the copied model.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Remove the armature modifier from the copied model.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select the original (HighPoly) model.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Go into pose mode, clear any pose transformations.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'The "HighPoly" and "LowPoly" models should be on top of each other\nnow.')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select the original (HighPoly) model.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Hold SHIFT and select the copied (LowPoly) model.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the ",Object(r.b)("inlineCode",{parentName:"p"},"Properties")," panel, in the ",Object(r.b)("inlineCode",{parentName:"p"},"Render")," tab:"),Object(r.b)("p",{parentName:"li"},"a.  Bake Mode: ",Object(r.b)("inlineCode",{parentName:"p"},"Normal")),Object(r.b)("p",{parentName:"li"},"b.  check:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"-   \u2713 Selected to Active\n")),Object(r.b)("p",{parentName:"li"},'c.  Use a reasonably high value for "Margin" (4+ pixels at least for\n1024x1024 maps).')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Bake and don't forget to save the Normal map image."))),Object(r.b)("p",null,'::: {.important}\nKeep in mind that when you duplicate the model, you are also duplicating\nits UV mapping. What this means is your \\"HiPoly\\" model and "LowPoly"\nmodel are both assigned to an image.'),Object(r.b)("p",null,"If you ever see this error:"),Object(r.b)("p",null,'\\"No objects or images found to bake to\\"'),Object(r.b)("p",null,'You are either missing the image for the "LowPoly" model, or in the\nOutliner, the camera symbol (Restrict Render) is off (grayed out).\n:::'),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/monkey_bump2.png",alt:"Normal map from Method 2"}))),Object(r.b)("h2",{id:"fixing-the-normal-colors-in-blender"},"Fixing the Normal colors in Blender"),Object(r.b)("p",null,'There are two "standards" for Normal maps:'),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"DirectX")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"OpenGL"))),Object(r.b)("p",null,"The difference between them is that the green channel is inverted. One\nwould expect that JME supports the OpenGL way, but actually JME supports\nthe DirectX way because it's what Blender supports and the developers of\nJME thought it would be easier in the Blender to JME workflow."),Object(r.b)("p",null,"Because of this, you need to fix the colors to prepare the Normal map\nfor using it with the JME Lighting Material. You should only have to\ninvert the green channel, the red and blue channels should stay\nunchanged. The curve for the red and blue channels should go from bottom\nleft to top right, the green from top left to bottom right."),Object(r.b)("p",null,"To do this after baking and saving the original Normal map image:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'In the "UV Editing" layout, from the "UV Image Editor" header select\n',Object(r.b)("inlineCode",{parentName:"p"},"Image Invert Invert Green Channel"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'Save the inverted image to a destination you want and use it with\nthe JME Lighting Material and the "LowPoly" version of the model.'))),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/images/jme3/external/monkey_bump2_invert.png",alt:"Normal map invert results (Method 2\nexample)"}))),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}))),Object(r.b)("p",null,"Inverting Tips\n:::"),Object(r.b)("p",null,"If you build the engine from source, the master branch ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-core/src/main/resources/Common/MatDefs/Light/PBRLighting.j3md#L39"}),"PBR\nmaterial"),"\nhas a NormalType parameter that allows one to handle this in the shader\ninstead of having to edit the Normal map."),Object(r.b)("p",null,"You can also use the SDK to invert the channel:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'In the SDK, RMB select the image and choose "Edit Texture".')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the window header, press the Filters button and choose\n",Object(r.b)("inlineCode",{parentName:"p"},"Invert Green"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"When satisfied, save the change in the same format as the original\nimage using ",Object(r.b)("inlineCode",{parentName:"p"},"File Save"),".\n:::"))),Object(r.b)("p",null,'This is what the final outcome of Normal map baking should produce for\nyou. A "LowPoly" model that looks like it\'s a "HighPoly" model.'),Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"../../jme3/external/monkey_final.gif",alt:"Final results (Method 2\nexample)"}))),Object(r.b)("h1",{id:"lightmap-baking"},"LightMap baking"),Object(r.b)("p",null,"The goal of this tutorial is to explain briefly how to bake light map in\nblender with a separate set of texture coordinates and then export a\nmodel using this map in jME3."),Object(r.b)("h2",{id:"blender-modeling--texturing"},"Blender modeling + texturing"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"create a mesh in blender and unwrap it to create uvs"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/advanced/1.jpg",alt:"1.jpg"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"In the mesh tab you can see the sets of Uvs, it will create the\nfirst one."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"You can assign w/e texture on it, I used the built in checker of\nblender for the example."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"In this list, create a new one and click on the camera icon so that\nbaking is made with this set. Name it LightUvMap.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"In the 3D view in edit mode select all your mesh vertice and hit\n\\'U\\'/LightMap pack then ok it will unfold the mesh for light map.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},'Create a new image, go to the render tab an all at the end check the\n"Bake" section and select shadows. Then click bake.')),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"If all went ok it will create a light map like this."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/advanced/2.jpg",alt:"2.jpg"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Go to the material tab, create a new one for your model and go to\nthe Texture Tab.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Create 2 textures one for the color map, and one for the light map.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"In the Mapping section be sure to select coordinates : UV and select\nthe good set of coordinates."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/advanced/3.jpg",alt:"3.jpg"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Then the light map"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/advanced/4.jpg",alt:"4.jpg"})))))),Object(r.b)("h1",{id:"importing-the-model-in-the-sdk-and-creating-the-appropriate-material"},"Importing the model in the SDK and creating the appropriate material"),Object(r.b)("p",null,"Once this is done, export your model with one of the 3D model ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"../../jme3/features.xml#supported-external-file-types"}),"Supported\nExternal File\nTypes")," and\nconvert it into a ",Object(r.b)("inlineCode",{parentName:"p"},".j3o")," with the SDK, or the JME\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"%7Blink-javadoc%7D/com/jme3/export/binary/BinaryExporter.html"}),"BinaryExporter"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Create material for it using the lighting definition.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Add the colorMap in the diffuse map slot and the lightMap in the\nlight map slot.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},'Make sure you check "SeparateTexCoords"'),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/advanced/5.jpg",alt:"5.jpg"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"It should roughly result in something like that :"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/advanced/6.jpg",alt:"6.jpg"})))))),Object(r.b)("h1",{id:"modelling-racing-tracks-and-cars"},"Modelling racing tracks and cars"),Object(r.b)("p",null,"Follow the link below to a pdf tutorial by rhymez where I guide you to\nmodelling a car and importing it to the jMonkeyEngine correctly and edit\nit in the vehicle editor.Plus how to model a simple racing track.\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"http://www.indiedb.com/games/street-rally-3d/downloads/modelling-in-blender-to-the-jmonkeyengine"}),"http://www.indiedb.com/games/street-rally-3d/downloads/modelling-in-blender-to-the-jmonkeyengine")),Object(r.b)("h1",{id:"optimizing-models-for-3d-games"},"Optimizing Models for 3D games"),Object(r.b)("p",null,"Follow the link below to a pdf tutorial by rhymez where I guide you on\nhow you can optimize your models for faster rendering.\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"http://www.indiedb.com/games/street-rally-3d/downloads/optimizing-3d-models-for-games"}),"http://www.indiedb.com/games/street-rally-3d/downloads/optimizing-3d-models-for-games")),Object(r.b)("h1",{id:"skybox-baking"},"SkyBox baking"),Object(r.b)("p",null,"There are several ways to create static images to use for a sky in your\ngame. This will describe the concepts used in blender and create an ugly\nsky emoji:smiley","[","]",". Check the links below for other ways and prettier\nskies."),Object(r.b)("p",null,"A sky box is a texture mapped cube, it can also, loosely, be called en\nEnvMap or a CubeMap. The camera is inside the cube and the clever thing\nthat jME does is to draw the sky so it is always behind whatever else is\nin your scene. Imagine the monkey is the camera in the picture."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/skybox-concept.png",alt:"skybox-concept.png"})))),Object(r.b)("p",null,"But a real sky is not a box around our heads, it is more like a sphere.\nSo if we put any old image in the sky it will look strange and might\neven look like a box. This is not what we want. The trick is to distort\nthe image so that it will ",Object(r.b)("em",{parentName:"p"},"look")," like a sphere even if it in fact is a\npicture pasted on a box. Luckily blender can do that tricky distortion\nfor us."),Object(r.b)("p",null,"The screenshots are from Blender 2.63 but the equivalent operations have\nbeen in blender for years so with minor tweaks should work for almost\nany version."),Object(r.b)("p",null,"So let's get started"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Fire up blender and you'll see something like this."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/start-screen2.png",alt:"start-screen2.png"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"The cube in the start scene is perfect for us. What we'll do is have\nBlender render the scene onto that cube. The resulting image is what\nwe'll use for our sky box. So our jME sky will look like we stood\ninside the blender box and looked out on the scene in blender.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Start by selecting the box and set its material to shadeless."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/shadeless.png",alt:"shadeless.png"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Now we will create a texture for the box. Make sure the texture is\nan ",Object(r.b)("inlineCode",{parentName:"p"},"Environment Map"),", that the ",Object(r.b)("inlineCode",{parentName:"p"},"Viewpoint Object")," is set to the\ncube. The resolution is how large the resulting image will be. More\npixels makes the sky look better but comes at the cost of texture\nmemory. You'll have to trim the resolution to what works in your\napplication."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/texture.png",alt:"texture.png"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Next up is the fun part, create the sky scene in blender. You can do\nwhatever fits your application, include models for a city landscape,\nset up a texture mapped sphere in blender with a nice photographed\nsky, whatever you can think will make a good sky. I am not so\ncreative so I created this scene:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/scene.png",alt:"scene.png"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Now render the scene (press F12). It doesn't actually matter where\nthe camera is in blender but you might see something similar to\nthis:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/render.png",alt:"render.png"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"You can see that Blender has actually drawn the scene onto the cube.\nThis is exactly what we want. Now to save the image.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Select the texture of the cube and select save environment map."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/saveenvmap.png",alt:"saveenvmap.png"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"That is it for Blender. Open the saved image in some image editor (I\nuse the Gimp from ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"http://www.gimp.org"}),"http://www.gimp.org")," here)."))),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},'The SDK also contains an image editor, right-click the image and select\n"edit" image to open it.'))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"You will notice that Blender has taken the 6 sides of the cube and\npasted together into one image (3x2). So now we need to cut it up\nagain into 6 separate images. In gimp I usually set the guides to\nwhere I want to cut and then go into Filters\u2192Web\u2192Slice and let gimp\ncut it up for me."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("img",Object(n.a)({parentName:"li"},{src:"/images/jme3/external/post-slice.png",alt:"post-slice.png"}))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Next up is to move the image files into your assets directory and\ncreate the sky in jME. You can do that in the Scene Composer by\nright clicking the scene node, select ",Object(r.b)("inlineCode",{parentName:"p"},"Add Spatial")," and then select\n",Object(r.b)("inlineCode",{parentName:"p"},"Skybox"),"."))),Object(r.b)("p",null,"If you want to do it from code, here is an example:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),'public void simpleInitApp() {\n\n    Texture westTex = assetManager.loadTexture("Textures/west.png");\n    Texture eastTex = assetManager.loadTexture("Textures/east.png");\n    Texture northTex = assetManager.loadTexture("Textures/north.png");\n    Texture southTex = assetManager.loadTexture("Textures/south.png");\n    Texture upTex = assetManager.loadTexture("Textures/top.png");\n    Texture downTex = assetManager.loadTexture("Textures/bottom.png");\n\n    final Vector3f normalScale = new Vector3f(-1, 1, 1);\n    Spatial skySpatial = SkyFactory.createSky(\n                        assetManager,\n                        westTex,\n                        eastTex,\n                        northTex,\n                        southTex,\n                        upTex,\n                        downTex,\n                        normalScale);\n    rootNode.attachChild(skySpatial);\n}\n')),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This example uses a strange normalScale, this is to flip the image on\nthe X-axis and might not be needed in your case. Hint: the texture is\napplied on the outside of the cube but we are inside so what do we see?"))),Object(r.b)("h1",{id:"further-reading"},"Further reading"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"../../jme3/advanced/sky"}),"How to add a Sky to your Scene"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"http://hub.jmonkeyengine.org/t/jmonkeyengine-tutorial-how-to-create-skymaps-using-blender/19313"}),"http://hub.jmonkeyengine.org/t/jmonkeyengine-tutorial-how-to-create-skymaps-using-blender/19313")))))}p.isMDXComponent=!0},441:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return h}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=i.a.createContext({}),p=function(e){var t=i.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l({},t,{},e)),a},m=function(e){var t=p(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),m=p(a),d=n,h=m["".concat(o,".").concat(d)]||m[d]||s[d]||r;return a?i.a.createElement(h,l({ref:t},c,{components:a})):i.a.createElement(h,l({ref:t},c))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=d;var l={};for(var b in t)hasOwnProperty.call(t,b)&&(l[b]=t[b]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<r;c++)o[c]=a[c];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);