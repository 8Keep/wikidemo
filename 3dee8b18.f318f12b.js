(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{219:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return p})),a.d(t,"default",(function(){return b}));var n=a(1),i=a(9),r=(a(0),a(441)),o={},l={id:"jme3/advanced/android",title:"android",description:"Changing the Name of Your APK/Application:",source:"@site/docs/jme3/advanced/android.md",permalink:"/wikidemo/docs/jme3/advanced/android",editUrl:"https://github.com/8keep/wikidemo/edit/master/docs/jme3/advanced/android.md"},p=[],c={rightToc:p};function b(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"changing-the-name-of-your-apkapplication"},"Changing the Name of Your APK/Application:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open your project's properties and navigate to Application")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Update the title"))),Object(r.b)("p",null,"This has no real effect, however it keeps continuity throughout your\napp. Actually, this likely renamed the window created to display your\napp. So, now go change the actual name of your APK:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select ",Object(r.b)("inlineCode",{parentName:"p"},"File View")," in the left pane of the SDK.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Navigate to the ",Object(r.b)("inlineCode",{parentName:"p"},"mobile/res/values")," directory and open the\n",Object(r.b)("inlineCode",{parentName:"p"},"strings.xml")," file.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'There should be a string tag with the following key pair:\nname=\\"app',"_",'name\\".')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Replace ",Object(r.b)("inlineCode",{parentName:"p"},"MyGame")," with your app's name and save the file.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In ",Object(r.b)("inlineCode",{parentName:"p"},"File view"),", navigate to nbproject and open the\n",Object(r.b)("inlineCode",{parentName:"p"},"project.properties")," file.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Edit the value of ",Object(r.b)("inlineCode",{parentName:"p"},"application.title")," to reflect your game's name\n(unless step 1/2 above altered this for you)."))),Object(r.b)("h1",{id:"changing-the-apk-icon"},"Changing the APK Icon:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Under the ",Object(r.b)("inlineCode",{parentName:"p"},"File view")," of your project navigate to ",Object(r.b)("inlineCode",{parentName:"p"},"mobile/res")," and\nadd a ",Object(r.b)("inlineCode",{parentName:"p"},"drawable")," folder if one does not exist.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add your icon file (png).")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open the Android Manifest file and add the following to your\napplication tag:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},'android:icon="@drawable/<ICON FILE NAME WITHOUT EXTENSION>"'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"If you would like multiple size icons, add the following folders:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"drawable-hdpi (should contain the icon named the same at 72\xd772 pixels)\\\\\ndrawable-ldpi (should contain the icon named the same at 36\xd736 pixels)\\\\\ndrawable-mdpi (should contain the icon named the same at 48\xd748 pixels)\\\\\ndrawable-xhdpi (should contain the icon named the same at 96\xd796 pixels)\\\\\n")))),Object(r.b)("h1",{id:"adding-a-splash-screen-to-your-app"},"Adding a Splash Screen to your app:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open ",Object(r.b)("inlineCode",{parentName:"p"},"Android Main Activity"),", either through the ",Object(r.b)("inlineCode",{parentName:"p"},"Important Files"),"\nlist in ",Object(r.b)("inlineCode",{parentName:"p"},"Project view")," or in the ",Object(r.b)("inlineCode",{parentName:"p"},"File view")," under\n",Object(r.b)("inlineCode",{parentName:"p"},"mobile/src/<package name>")," directory.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add the following line to the ",Object(r.b)("inlineCode",{parentName:"p"},"MainActivity")," method:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"splashPicID = R.drawable.<IMAGE NAME WITHOUT EXTENSION>;"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add the image to the ",Object(r.b)("inlineCode",{parentName:"p"},"mobile\\res\\drawable")," directory."))),Object(r.b)("p",null,"Compiling Google Play Services and Adding it to Your Project:"),Object(r.b)("p",null,"First get the api:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Download the google play services add-on through the SDK Manager\nunder Extras (named Google Play services).")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Copy the directory from where you downloaded it to another location\n(like JME Projects Folder)."))),Object(r.b)("h1",{id:"compile-the-jar-file-for-use-with-your-project"},"Compile the jar file for use with your project:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the directory you copied, there is an android project file.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In JME's IDE, open this project")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the General section of the project properties, there is a list of\npotential Android target platforms. Select the one you are using for\nyour project by clicking on the list (this is not intuitive at all,\nas the list looks like nothing more than info... not selectable\nitems).")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Under the Library section, click the checkbox that is labeled:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\u2713 Is Library"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click Ok and then Clean & Build this project."))),Object(r.b)("p",null,"This will compile the play services all proper like so you can add it to\nyour project. Now, for that step:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open your project's properties.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the Libraries section, click the Add JAR/folder button.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Find and add the jar you compiled above. This can be found in:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"<COPIED DIR>\\libproject\\google-play-services_lib\\libs\\google-play-services.jar"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Modify your Android Manifest by adding the following tags under\napplication:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},'<meta-data android:name="com.google.android.gms.games.APP_ID"\nandroid:value="@string/app_id" />\n<meta-data android:name="com.google.android.gms.version"\nandroid:value="@integer/google_play_services_version"/>'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add the following tag to your mobile/res/values/integers.xml file\n(create it if it doesn't exist):"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},'<integer name="google_play_services_version">4323000</integer>'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Clean & Build your project"))),Object(r.b)("h1",{id:"adding-play-games-services-to-your-project"},"Adding Play Games Services to Your Project:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Download the project from:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/playgameservices/android-samples"}),"https://github.com/playgameservices/android-samples"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the following directory, you find java files you will need to add\nto your project:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"<DOWNLOAD DIR>\\android-samples-master\\BasicSamples\\libraries\\BaseGameUtils\\src\\main\\java\\com\\google\\example\\games\\basegameutils\\\\\nGrab GameHelper.java and GameHelperUtil.java and add them to the directory you projects Main Activity is in\\\\\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the following directory, you find a resource file you will need\nto add to your project:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"<DOWNLOAD DIR>\\android-samples-master\\BasicSamples\\libraries\\BaseGameUtils\\src\\main\\res\\values\\\\\nGrab the gamehelper_strings.xml into your mobile/res/values folder\\\\\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add the following jar from the Adroid SDK folder to your project as\na library:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"<ANDROID SDK INSTALL DIR>\\adt-bundle-windows-x86_64-20131030\\sdk\\extras\\android\\support\\v4\\android-support-v4.jar\\\\\n")),Object(r.b)("p",{parentName:"li"},"And this is the basics for setting this up."))),Object(r.b)("h1",{id:"adding-admob-support-to-your-project"},"Adding AdMob Support to Your Project:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open your Android Manifest and add the following tag update the\napplication tag:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},'<activity android:name="com.google.android.gms.ads.AdActivity" android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/>'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"After the application tag, add the following tags:"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},'<uses-permission android:name="android.permission.INTERNET"/>\n<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In the onCreate method of your Main Activity, add the following\nsnippet (configure however you like):"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'adView = new AdView(this);\nadView.setAdSize(AdSize.FULL_BANNER);\nadView.setAdUnitId("<WHATEVER AD UNIT ID YOU ARE ASSIGNED THROUGH THE GOOGLE DEV CONSOLE>");\nadView.buildLayer();\nLinearLayout ll = new LinearLayout(this);\nll.setGravity(Gravity.BOTTOM);\nll.addView(adView);\naddContentView(ll, new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));\n')))),Object(r.b)("h1",{id:"communication-between-your-application--main-activity"},"Communication Between your Application & Main Activity:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create an interface named something along the lines of\n",Object(r.b)("inlineCode",{parentName:"p"},"JmeToHarness.java"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open your ",Object(r.b)("inlineCode",{parentName:"p"},"Android Main Activity")," and implement this interface.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In ",Object(r.b)("inlineCode",{parentName:"p"},"Main.java")," of your Application, add the following:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{})," JmeToHarness harness;\n public JmeToHarness getHarness() {\n   return this.harness;\n }\n public void setHarnessListener(JmeToHarness harness) {\n    this.harness = harness;\n }\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add the following snippet to the onCreate method of your Android\nMain Activity:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"if (app != null)\n    ((Main)app).setHarnessListener(this);\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add error handling if you want it."))),Object(r.b)("p",null,"This bit is ultra useful for calling AdMob changes and Play Games\nmethods (like updating achievements, leader boards, etc, etc)"),Object(r.b)("p",null,"EDIT: Keep this as generic as you possibly can as it should plug & play\nwith iOS & Applets if you keep that in mind. Google Play Services/Play\nGames Services works for all of the above... soooo... anyways."),Object(r.b)("h1",{id:"changing-the-package-name-after-project-creation"},"Changing the Package Name After Project Creation:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open the project properties of your Application")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Navigate to ",Object(r.b)("inlineCode",{parentName:"p"},"Application Android")," and edit the package name."))),Object(r.b)("p",null,"This does absolutely nothing, but help with consistency."),Object(r.b)("p",null,"So, to actually change the package name, you will want to:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open the ",Object(r.b)("inlineCode",{parentName:"p"},"Android Manifest"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Edit the manifest tag key pair: ",Object(r.b)("inlineCode",{parentName:"p"},'package="<THE NEW PACKAGE NAME>"'))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In ",Object(r.b)("inlineCode",{parentName:"p"},"File view"),", navigate to nbproject and open the\n",Object(r.b)("inlineCode",{parentName:"p"},"project.properties")," file.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Edit the value of ",Object(r.b)("inlineCode",{parentName:"p"},"mobile.android.package"),"."))),Object(r.b)("p",null,"Take a moment or 4 to navigate through the directory structure in file\nview and remove any artifacts left from the previous package name build.\nAlternately, you can run ",Object(r.b)("inlineCode",{parentName:"p"},"Clean")," on the project prior to updating the\npackage name."))}b.isMDXComponent=!0},441:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return j}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=i.a.createContext({}),b=function(e){var t=i.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l({},t,{},e)),a},d=function(e){var t=b(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},s=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=b(a),s=n,j=d["".concat(o,".").concat(s)]||d[s]||m[s]||r;return a?i.a.createElement(j,l({ref:t},c,{components:a})):i.a.createElement(j,l({ref:t},c))}));function j(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<r;c++)o[c]=a[c];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,a)}s.displayName="MDXCreateElement"}}]);