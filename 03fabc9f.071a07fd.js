(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{145:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(1),r=n(9),i=(n(0),n(441)),o={},c={id:"jme3/advanced/nifty_gui_projection",title:"nifty_gui_projection",description:"1.  [Nifty GUI Concepts](../../jme3/advanced/nifty_gui)",source:"@site/docs/jme3/advanced/nifty_gui_projection.md",permalink:"/wikidemo/docs/jme3/advanced/nifty_gui_projection",editUrl:"https://github.com/8keep/wikidemo/edit/master/docs/jme3/advanced/nifty_gui_projection.md"},l=[],p={rightToc:l};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui"}),"Nifty GUI Concepts"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui_best_practices"}),"Nifty GUI Best\nPractices"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui_xml_layout"}),"Nifty GUI XML Layout"),"\nor ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui_java_layout"}),"Nifty GUI Java\nLayout"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui_overlay"}),"Nifty GUI Overlay")," or\n",Object(i.b)("strong",{parentName:"p"},"Nifty GUI Projection"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui_java_interaction"}),"Interact with the GUI from\nJava")))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/images/jme3/advanced/nifty-gui.png",alt:"nifty-gui.png"}))),Object(i.b)("p",null,"Typically you define a key (for example escape) to switch the GUI on and\noff. Then you ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui_overlay"}),"overlay")," the\nrunning game with the GUI (you will most likely pause the game then)."),Object(i.b)("p",null,'Alternatively, you can also project the GUI as a texture onto a mesh\ntextures inside the game. Allthough this looks cool and "immersive, this\napproach is rarely used since it is difficult to record clicks this way.\nYou can only interact with this projected GUI by keyboard, or\nprogrammatically. You can select input fields using the arrow keys, and\ntrigger actions using the return key.'),Object(i.b)("p",null,"This GUI projection variant is less commonly used than the GUI overlay\nvariant. Usecases for GUI projection are, for example, a player avatar\nusing an in-game computer screen."),Object(i.b)("h1",{id:"sample-code"},"Sample Code"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-examples/src/main/java/jme3test/niftygui/TestNiftyToMesh.java"}),"TestNiftyToMesh.java"))),Object(i.b)("h1",{id:"projecting-the-user-interface-onto-a-texture"},"Projecting the User Interface Onto a Texture"),Object(i.b)("p",null,"You can project the Nifty GUI onto a texture, load the texture into a\nmaterial, and assign it to a Geometry (Quads or Boxes are best)."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'/** Create a special viewport for the Nifty GUI */\nViewPort niftyView = renderManager.createPreView("NiftyView", new Camera(1024, 768));\nniftyView.setClearEnabled(true);\n/** Create a new NiftyJmeDisplay for the integration */\nNiftyJmeDisplay niftyDisplay = NiftyJmeDisplay.newNiftyJmeDisplay(\n  assetManager,  inputManager,  audioRenderer,  niftyView);\n/** Create a new NiftyGUI object */\nNifty nifty = niftyDisplay.getNifty();\n/** Read your XML and initialize your custom ScreenController */\nnifty.fromXml("Interface/helloworld.xml", "start", new MySettingsScreen(data));\n\n/** Prepare a framebuffer for the texture niftytex */\nniftyView.addProcessor(niftyDisplay);\nFrameBuffer fb = new FrameBuffer(1024, 768, 0);\nfb.setDepthBuffer(Format.Depth);\nTexture2D niftytex = new Texture2D(1024, 768, Format.RGB8);\nfb.setColorTexture(niftytex);\nniftyView.setClearEnabled(true);\nniftyView.setOutputFrameBuffer(fb);\n\n/** This is the 3D cube we project the GUI on */\nBox b = new Box(Vector3f.ZERO, 1, 1, 1);\nGeometry geom = new Geometry("Box", b);\nMaterial mat = new Material(assetManager, "Common/MatDefs/Misc/Unshaded.j3md");\nmat.setTexture("m_ColorMap", niftytex); /** Here comes the texture! */\ngeom.setMaterial(mat);\nrootNode.attachChild(geom);\n')),Object(i.b)("p",null,"The MySettingsScreen class is a custom\nde.lessvoid.nifty.screen.ScreenController in which you implement your\nGUI behaviour. The variable ",Object(i.b)("inlineCode",{parentName:"p"},"data")," contains an object that you use to\nexchange state info with the game. See ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../jme3/advanced/nifty_gui_java_interaction"}),"Nifty GUI Java\nInteraction")," for\ndetails on how to create this class."),Object(i.b)("p",null,"Run the code sample. You select buttons on this GUI with the arrow keys\nand then press return. Note that clicking on the texture will not work!"),Object(i.b)("h1",{id:"next-steps"},"Next Steps"),Object(i.b)("p",null,"Now that you have layed out and integrated the GUI in your app, you want\nto respond to user input and display the current game."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"../../jme3/advanced/nifty_gui_java_interaction"}),"Interact with the GUI from\nJava"))))}u.isMDXComponent=!0},441:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),u=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},s=function(e){var t=u(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=u(n),b=a,m=s["".concat(o,".").concat(b)]||s[b]||f[b]||i;return n?r.a.createElement(m,c({ref:t},p,{components:n})):r.a.createElement(m,c({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=b;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var p=2;p<i;p++)o[p]=n[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);