<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<script src="/js/dark_default.js"></script>

<title data-react-helmet="true">making_the_camera_follow_a_character | jMonkeyEngine Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="making_the_camera_follow_a_character | jMonkeyEngine Documentation"><meta data-react-helmet="true" name="description" content="When players steer a game character with 1st-person view, they directly"><meta data-react-helmet="true" property="og:description" content="When players steer a game character with 1st-person view, they directly"><meta data-react-helmet="true" property="og:url" content="https://8keep.github.io/wikidemo/docs/jme3/advanced/making_the_camera_follow_a_character">

<link data-react-helmet="true" rel="shortcut icon" href="/wikidemoimg/favicon.ico">


<link rel="stylesheet" href="/wikidemostyles.7d008dc0.css">


<link rel="preload" href="/wikidemostyles.08ff7081.js" as="script">

<link rel="preload" href="/wikidemoruntime~main.aab3cf1b.js" as="script">

<link rel="preload" href="/wikidemomain.53cb7c94.js" as="script">

<link rel="preload" href="/wikidemo1.e501629b.js" as="script">

<link rel="preload" href="/wikidemo2.c824d386.js" as="script">

<link rel="preload" href="/wikidemo302.1d1a2997.js" as="script">

<link rel="preload" href="/wikidemo394d525a.30c299b8.js" as="script">

<link rel="preload" href="/wikidemo17896441.d065d5f5.js" as="script">

<link rel="preload" href="/wikidemo02b3c47c.16d3109c.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/wikidemo"><img class="navbar__logo" src="/wikidemoimg/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/wikidemodocs/documentation">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/wikidemo"><img class="navbar__logo" src="/wikidemoimg/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/wikidemodocs/documentation">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">making_the_camera_follow_a_character</h1></header><div class="markdown"><p>When players steer a game character with 1st-person view, they directly
steer the camera (<code>flyCam.setEnabled(true);</code>), and they never see the
walking character itself. In a game with 3rd-person view, however, the
players see the character walk, and you (the game developer) want to
make the camera follow the character around when it walks.</p><p>There are two ways how the camera can do that:</p><ul><li><p>Registering a chase camera to the player and the input manager.</p></li><li><p>Attaching the camera to the character using a camera node.</p></li></ul><p><strong>Important:</strong> Using third-person view requires you to deactivate the
default flyCam (first-person view). This means that you have to
configure your own navigation (<a href="/wikidemo/docs/jme3/advanced/input_handling">key inputs and
analogListener</a>) that make your
player character walk. For moving a physical player character, use
<code>player.setWalkDirection()</code>, for a non-physical character you can use
<code>player.move()</code>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="code-samples"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-samples" title="Direct link to heading">#</a>Code Samples</h1><p>Press the WASD or arrow keys to move. Drag with the left mouse button to
rotate.</p><ul><li><p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-examples/src/main/java/jme3test/input/TestChaseCamera.java">TestChaseCamera.java</a></p></li><li><p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-examples/src/main/java/jme3test/input/TestCameraNode.java">TestCameraNode.java</a></p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="camera-node"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#camera-node" title="Direct link to heading">#</a>Camera Node</h1><p>To make the camera follow a target node, add this camera node code to
your init method (e.g. <code>simpleInitApp()</code>). The <code>target</code> spatial is
typically the player node.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Disable the default flyby cam</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">flyCam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setEnabled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//create the camera Node</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">camNode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">CameraNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Camera Node&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cam</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//This mode means that camera copies the movements of the target:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">camNode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setControlDir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">ControlDirection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">SpatialToCamera</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//Attach the camNode to the target:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">attachChild</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">camNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//Move camNode, e.g. behind and above the target:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">camNode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setLocalTranslation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vector3f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//Rotate the camNode to look at the target:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">camNode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">lookAt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLocalTranslation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Vector3f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">UNIT_Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><p>::: {.important}
Where the example says
<code>camNode.setLocalTranslation(new Vector3f(0, 5, -5));</code>, you have to
supply your own start position for the camera. This depends on the size
of your target (the player character) and its position in your
particular scene. Optimally, you set this to a spot a bit behind and
above the target.
:::</p><p>+-----------------------------------+-----------------------------------+
| Methods                           | Description                       |
+===================================+===================================+
| setControlDir(                    | User input steers the target      |
| ControlDirection.SpatialToCamera) | spatial, and the camera follows   |
|                                   | the spatial.\                     |
|                                   | The spatial&#x27;s transformation is   |
|                                   | copied over the camera&#x27;s          |
|                                   | transformation.\                  |
|                                   | Example: Use with                 |
|                                   | [CharacterControl](..             |
|                                   | /../jme3/advanced/physics)led |
|                                   | spatial.                          |
+-----------------------------------+-----------------------------------+
| setControlDir(                    | User input steers the camera, and |
| ControlDirection.CameraToSpatial) | the target spatial follows the    |
|                                   | camera.\                          |
|                                   | The camera&#x27;s transformation is    |
|                                   | copied over the spatial&#x27;s         |
|                                   | transformation. Use with          |
|                                   | first-person flyCam.              |
+-----------------------------------+-----------------------------------+</p><p><strong>Code sample:</strong></p><ul><li><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-examples/src/main/java/jme3test/input/TestCameraNode.java">TestCameraNode.java</a>
-- Press the WASD or arrow keys to move. Drag with the left mouse
button to rotate.</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="chase-camera"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#chase-camera" title="Direct link to heading">#</a>Chase Camera</h1><p>To activate the chase camera, add the following code to your init method
(e.g. <code>simpleInitApp()</code>). The <code>target</code> spatial is typically the player
node. You will be able to rotate the target by dragging (keeping the
left mouse button pressed and moving the mouse).</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Disable the default flyby cam</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">flyCam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setEnabled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Enable a chase cam for this target (typically the player).</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">ChaseCamera</span><span class="token plain"> chaseCam </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ChaseCamera</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cam</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> inputManager</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">chaseCam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setSmoothMotion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><p>+-----------------------------------+-----------------------------------+
| Method                            | Description                       |
+===================================+===================================+
| setInvertVerticalAxis(true)       | Invert the camera&#x27;s vertical      |
|                                   | rotation Axis                     |
+-----------------------------------+-----------------------------------+
| setInvertHorizontalAxis(true)     | Invert the camera&#x27;s horizontal    |
|                                   | rotation Axis                     |
+-----------------------------------+-----------------------------------+
| setTrailingEnabled(true)          | Camera follows the target and     |
|                                   | flies around and behind when the  |
|                                   | target moves towards the camera.  |
|                                   | Trailing only works with smooth   |
|                                   | motion enabled. (Default)         |
+-----------------------------------+-----------------------------------+
| setTrailingEnabled(false)         | Camera follows the target, but    |
|                                   | does not rotate around the target |
|                                   | when the target changes           |
|                                   | direction.                        |
+-----------------------------------+-----------------------------------+
| setSmoothMotion(true)             | Activate SmoothMotion when        |
|                                   | trailing. This means the camera   |
|                                   | seems to accelerate and fly after |
|                                   | the character, when it has caught |
|                                   | up, it slows down again.          |
+-----------------------------------+-----------------------------------+
| setSmoothMotion(false)            | Disable smooth camera motion.     |
|                                   | Disabling SmoothMotion also       |
|                                   | disables trailing.                |
+-----------------------------------+-----------------------------------+
| setLookA                          | Camera looks at a point 3 world   |
| tOffset(Vector3f.UNIT_Y.mult(3)) | units above the target.           |
+-----------------------------------+-----------------------------------+
| setToggleRotationTrigger(new      | Enable rotation by keeping the    |
| MouseButtonTr                     | middle mouse button pressed (like |
| igger(MouseInput.BUTTON_MIDDLE)) | in Blender). This disables the    |
|                                   | rotation on right and left mouse  |
|                                   | button click.                     |
+-----------------------------------+-----------------------------------+
| setToggleRotationTrigger(new      | Activate mutiple triggers for the |
| MouseButtonTrigger(\              | rotation of the camera, e.g.      |
| MouseInput.BUTTON_MIDDLE),\      | spacebar and middle mouse button, |
| new                               | etc.                              |
| KeyTrigger(KeyInput.KEY_SPACE))  |                                   |
+-----------------------------------+-----------------------------------+
| setRotationSensitivity(5f)        | How fast the camera rotates. Use  |
|                                   | values around \&lt;1.0f (all bigger  |
|                                   | values are ignored).              |
+-----------------------------------+-----------------------------------+</p><p><strong>Code sample:</strong></p><ul><li><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-examples/src/main/java/jme3test/input/TestChaseCamera.java">TestChaseCamera.java</a>
-- Press the WASD or arrow keys to move. Drag with the left mouse
button to rotate.</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="which-to-choose"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#which-to-choose" title="Direct link to heading">#</a>Which to Choose?</h1><p>What is the difference of the two code samples above?</p><p>+-----------------------------------+-----------------------------------+
| CameraNode                        | ChaseCam                          |
+===================================+===================================+
| Camera follows immediately, flies | Camera moves smoothly and         |
| at same speed as target.          | accelerates and decelerates,      |
|                                   | flies more slowly than the target |
|                                   | and catches up.                   |
+-----------------------------------+-----------------------------------+
| Camera stays attached to the      | Camera orbits the target and      |
| target at a constant distance.    | approaches slowly.                |
+-----------------------------------+-----------------------------------+
| Drag-to-Rotate rotates the target | Drag-to-Rotate rotates only the   |
| and the camera. You always see    | camera. You can see the target    |
| the target from behind.           | from various sides.               |
+-----------------------------------+-----------------------------------+</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/8keep/wikidemo/edit/master/docs/jme3/advanced/making_the_camera_follow_a_character.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 jMonkeyEngine.</div></div></div></footer>
</div>

<script src="/wikidemostyles.08ff7081.js"></script>

<script src="/wikidemoruntime~main.aab3cf1b.js"></script>

<script src="/wikidemomain.53cb7c94.js"></script>

<script src="/wikidemo1.e501629b.js"></script>

<script src="/wikidemo2.c824d386.js"></script>

<script src="/wikidemo302.1d1a2997.js"></script>

<script src="/wikidemo394d525a.30c299b8.js"></script>

<script src="/wikidemo17896441.d065d5f5.js"></script>

<script src="/wikidemo02b3c47c.16d3109c.js"></script>


</body>
</html>