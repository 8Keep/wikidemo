<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<script src="/js/dark_default.js"></script>

<title data-react-helmet="true">input_handling | jMonkeyEngine Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="input_handling | jMonkeyEngine Documentation"><meta data-react-helmet="true" name="description" content="Users interact with your jME3 application with different input devices"><meta data-react-helmet="true" property="og:description" content="Users interact with your jME3 application with different input devices"><meta data-react-helmet="true" property="og:url" content="https://8keep.github.io/wikidemo/docs/jme3/advanced/input_handling">

<link data-react-helmet="true" rel="shortcut icon" href="/wikidemo/img/favicon.ico">


<link rel="stylesheet" href="/wikidemo/styles.7d008dc0.css">


<link rel="preload" href="/wikidemo/styles.08ff7081.js" as="script">

<link rel="preload" href="/wikidemo/runtime~main.7418f8ca.js" as="script">

<link rel="preload" href="/wikidemo/main.1b6aa70f.js" as="script">

<link rel="preload" href="/wikidemo/1.e501629b.js" as="script">

<link rel="preload" href="/wikidemo/2.c824d386.js" as="script">

<link rel="preload" href="/wikidemo/302.1d1a2997.js" as="script">

<link rel="preload" href="/wikidemo/394d525a.30c299b8.js" as="script">

<link rel="preload" href="/wikidemo/17896441.d065d5f5.js" as="script">

<link rel="preload" href="/wikidemo/39963ca1.87b5f2db.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/wikidemo/"><img class="navbar__logo" src="/wikidemo/img/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wikidemo/docs/documentation">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/wikidemo/"><img class="navbar__logo" src="/wikidemo/img/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/wikidemo/docs/documentation">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">input_handling</h1></header><div class="markdown"><p>Users interact with your jME3 application with different input devices
-- the mouse, the keyboard, or a joystick. To respond to inputs we use
the <code>inputManager</code> object in <code>SimpleApplication</code>.</p><p>This is how you add interaction to your game:</p><ol><li><p>For each action, choose the trigger(s) (a key or mouse click etc)</p></li><li><p>For each action, add a trigger mapping to the inputManager</p></li><li><p>Create at least one listener in SimpleApplication</p></li><li><p>For each action, register its mappings to a listener</p></li><li><p>Implement each action in the listener</p></li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="code-samples"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-samples" title="Direct link to heading">#</a>Code Samples</h1><ul><li><p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-examples/src/main/java/jme3test/input/TestControls.java">TestControls.java</a></p></li><li><p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-examples/src/main/java/jme3test/input/TestJoystick.java">TestJoystick.java</a></p></li></ul><ol><li><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="choose-trigger"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#choose-trigger" title="Direct link to heading">#</a>Choose Trigger</h1></li></ol><p>Choose one or several key/mouse events for the interaction. We use
<code>KeyTrigger</code>, <code>MouseAxisTrigger</code>, <code>MouseButtonTrigger</code>, <code>JoyAxisTrigger</code>
and <code>JoyButtonTrigger</code> constants from the <code>com.jme3.input.controls</code>
package.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The MouseAxis and JoyAxis triggers go along the X axis (right/left) or Y
axis (up/down). These Triggers come with extra booleans for the negative
half of the axis (left, down). Remember to write code that listens to
the negative (true) and positive (false) axis!</p></div></div><p>+-----------------------------------+-----------------------------------+
| Trigger                           | Code                              |
+===================================+===================================+
| Mouse button: Left Click          | MouseButto                        |
|                                   | nTrigger(MouseInput.BUTTON_LEFT) |
+-----------------------------------+-----------------------------------+
| Mouse button: Right Click         | MouseButton                       |
|                                   | Trigger(MouseInput.BUTTON_RIGHT) |
+-----------------------------------+-----------------------------------+
| Mouse button: Middle Click        | MouseButtonT                      |
|                                   | rigger(MouseInput.BUTTON_MIDDLE) |
+-----------------------------------+-----------------------------------+
| Mouse movement: Right             | Mou                               |
|                                   | seAxisTrigger(MouseInput.AXIS_X, |
|                                   | true)                             |
+-----------------------------------+-----------------------------------+
| Mouse movement: Left              | Mou                               |
|                                   | seAxisTrigger(MouseInput.AXIS_X, |
|                                   | false)                            |
+-----------------------------------+-----------------------------------+
| Mouse movement: Up                | Mou                               |
|                                   | seAxisTrigger(MouseInput.AXIS_Y, |
|                                   | true)                             |
+-----------------------------------+-----------------------------------+
| Mouse movement: Down              | Mou                               |
|                                   | seAxisTrigger(MouseInput.AXIS_Y, |
|                                   | false)                            |
+-----------------------------------+-----------------------------------+
| Mouse wheel: Up                   | MouseAxisTrig                     |
|                                   | ger(MouseInput.AXIS_WHEEL,false) |
+-----------------------------------+-----------------------------------+
| Mouse wheel: Down                 | MouseAxisTri                      |
|                                   | gger(MouseInput.AXIS_WHEEL,true) |
+-----------------------------------+-----------------------------------+
| NumPad: 1, 2, 3, ...              | KeyTrigger(KeyInput.KEY_NUMPAD1) |
|                                   | ...                               |
+-----------------------------------+-----------------------------------+
| Keyboard: 1, 2 , 3, ...           | KeyTrigger(KeyInput.KEY_1) ...   |
+-----------------------------------+-----------------------------------+
| Keyboard: A, B, C, ...            | KeyTrigger(KeyInput.KEY_A) ...   |
+-----------------------------------+-----------------------------------+
| Keyboard: Spacebar                | KeyTrigger(KeyInput.KEY_SPACE)   |
+-----------------------------------+-----------------------------------+
| Keyboard: Shift                   | K                                 |
|                                   | eyTrigger(KeyInput.KEY_RSHIFT),\ |
|                                   | KeyTrigger(KeyInput.KEY_LSHIFT)  |
+-----------------------------------+-----------------------------------+
| Keyboard: F1, F2, ...             | KeyTrigger(KeyInput.KEY_F1) ...  |
+-----------------------------------+-----------------------------------+
| Keyboard: Return, Enter           | K                                 |
|                                   | eyTrigger(KeyInput.KEY_RETURN),\ |
|                                   | KeyT                              |
|                                   | rigger(KeyInput.KEY_NUMPADENTER) |
+-----------------------------------+-----------------------------------+
| Keyboard: PageUp, PageDown        | KeyTrigger(KeyInput.KEY_PGUP),\  |
|                                   | KeyTrigger(KeyInput.KEY_PGDN)    |
+-----------------------------------+-----------------------------------+
| Keyboard: Delete, Backspace       | KeyTrigger(KeyInput.KEY_BACK),\  |
|                                   | KeyTrigger(KeyInput.KEY_DELETE)  |
+-----------------------------------+-----------------------------------+
| Keyboard: Escape                  | KeyTrigger(KeyInput.KEY_ESCAPE)  |
+-----------------------------------+-----------------------------------+
| Keyboard: Arrows                  | KeyTrigger(KeyInput.KEY_DOWN),\  |
|                                   | KeyTrigger(KeyInput.KEY_UP)\     |
|                                   | KeyTrigger(KeyInput.KEY_LEFT),   |
|                                   | KeyTrigger(KeyInput.KEY_RIGHT)   |
+-----------------------------------+-----------------------------------+
| Joystick Button:                  | JoyButtonTrigger(0,               |
|                                   | JoyInput.AXIS_POV_X),\          |
|                                   | JoyButtonTrigger(0,               |
|                                   | JoyInput.AXIS_POV_Y) ?          |
+-----------------------------------+-----------------------------------+
| Joystick Movement: Right          | JoyAxisTrigger(0,                 |
|                                   | JoyInput.AXIS_POV_X, true)      |
+-----------------------------------+-----------------------------------+
| Joystick Movement: Left           | JoyAxisTrigger(0,                 |
|                                   | JoyInput.AXIS_POV_X, false)     |
+-----------------------------------+-----------------------------------+
| Joystick Movement: Forward        | JoyAxisTrigger(0,                 |
|                                   | JoyInput.AXIS_POV_Z, true)      |
+-----------------------------------+-----------------------------------+
| Joystick Movement: Backward       | JoyAxisTrigger(0,                 |
|                                   | JoyInput.AXIS_POV_Z, false)     |
+-----------------------------------+-----------------------------------+</p><p>In your IDE, use code completion to quickly look up Trigger literals. In
the jMonkeyEngine SDK for example, press ctrl-space or ctrl-/ after
<code>KeyInput.|</code> to choose from the list of all keys.</p><ol start="2"><li><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="remove-default-trigger-mappings"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#remove-default-trigger-mappings" title="Direct link to heading">#</a>Remove Default Trigger Mappings</h1><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">inputManager.deleteMapping( SimpleApplication.INPUT_MAPPING_MEMORY );</span></div></div></div></div></div></li></ol><p>+----------------------+----------------------+-----------------------+
| Default Mapping      | Key                  | Description           |
+======================+======================+=======================+
| INPUT_              | F5                   | Hides the statistics  |
| MAPPING_HIDE_STATS |                      | in the bottom left.   |
+----------------------+----------------------+-----------------------+
| INPUT_              | KEY_C               | Prints debug output   |
| MAPPING_CAMERA_POS |                      | about the camera.     |
+----------------------+----------------------+-----------------------+
| IN                   | KEY_M               | Prints debug output   |
| PUT_MAPPING_MEMORY |                      | for memory usage.     |
+----------------------+----------------------+-----------------------+
| INPUT_MAPPING_EXIT | KEY_ESCAPE          | Closes the            |
|                      |                      | application by        |
|                      |                      | calling <code>stop();</code>.    |
|                      |                      | Typically you do not  |
|                      |                      | remove this, unless   |
|                      |                      | you replace it by     |
|                      |                      | another way of        |
|                      |                      | quitting gracefully.  |
+----------------------+----------------------+-----------------------+</p><ol start="3"><li><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="add-custom-trigger-mapping"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#add-custom-trigger-mapping" title="Direct link to heading">#</a>Add Custom Trigger Mapping</h1></li></ol><p>When initializing the application, add a Mapping for each Trigger.</p><p>Give the mapping a meaningful name. The name should reflect the action,
not the button/key (because buttons/keys can change). Here some
examples:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">inputManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Pause Game&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">KeyTrigger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">KeyInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEY_P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">inputManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Rotate&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">KeyTrigger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">KeyInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEY_SPACE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span></div></div></div></div></div><p>There are cases where you may want to provide more then one trigger for
one action. For example, some users prefer the WASD keys to navigate,
while others prefer the arrow keys. Add several triggers for one
mapping, by separating the Trigger objects with commas:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">inputManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Left&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">KeyTrigger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">KeyInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEY_A</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                 </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">KeyTrigger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">KeyInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEY_LEFT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// A and left arrow</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">inputManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Right&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">KeyTrigger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">KeyInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEY_D</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                 </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">KeyTrigger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">KeyInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEY_RIGHT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// D and right arrow</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                 </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span></div></div></div></div></div><ol start="4"><li><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="create-listeners"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-listeners" title="Direct link to heading">#</a>Create Listeners</h1></li></ol><p>The jME3 input manager supports two types of event listeners for inputs:
AnalogListener and ActionListener. You can use one or both listeners in
the same application. Add one or both of the following code snippets to
your main SimpleApplication-based class to activate the listeners.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The two input listeners do not know, and do not care, which actual key
was pressed. They only know which <em>named input mapping</em> was triggered.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="actionlistener"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#actionlistener" title="Direct link to heading">#</a>ActionListener</h2><p><code>com.jme3.input.controls.ActionListener</code></p><ul><li><p>Use for absolute &quot;button pressed or released?, &quot;on or off? actions.</p><ul><li>Examples: Pause/unpause, a rifle or revolver shot, jump, click
to select.</li></ul></li><li><p>JME gives you access to:</p><ul><li><p>The mapping name of the triggered action.</p></li><li><p>A boolean whether the trigger is still pressed or has just been
released.</p></li><li><p>A float of the current time-per-frame as timing factor</p></li></ul></li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">ActionListener</span><span class="token plain"> actionListener </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ActionListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">onAction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> keyPressed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> tpf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">/** TODO: test for mapping names and implement actions */</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="analoglistener"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#analoglistener" title="Direct link to heading">#</a>AnalogListener</h2><p><code>com.jme3.input.controls.AnalogListener</code></p><ul><li><p>Use for continuous and gradual actions.</p><ul><li>Examples: Walk, run, rotate, accelerate vehicle, strafe,
(semi-)automatic weapon shot</li></ul></li><li><p>JME gives you access to:</p><ul><li><p>The mapping name of the triggered action.</p></li><li><p>A gradual float value between how long the trigger has been
pressed.</p></li><li><p>A float of the current time-per-frame as timing factor</p></li></ul></li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">AnalogListener</span><span class="token plain"> analogListener </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">AnalogListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">onAnalog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> keyPressed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> tpf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">/** TODO: test for mapping names and implement actions */</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><ol start="4"><li><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="register-mappings-to-listeners"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#register-mappings-to-listeners" title="Direct link to heading">#</a>Register Mappings to Listeners</h1></li></ol><p>To activate the mappings, you must register them to a Listener. Write
your registration code after the code block where you have added the
mappings to the inputManager.</p><p>In the following example, you register the &quot;Pause Game mapping to the
<code>actionListener</code> object, because pausing a game is in &quot;either/or
decision.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">inputManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actionListener</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;Pause Game&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><p>In the following example, you register navigational mappings to the
<code>analogListener</code> object, because walking is a continuous action. Players
typically keep the key pressed to express continuity, for example when
they want to &quot;walk on or &quot;accelerate.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">inputManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">analogListener</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;Left&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Right&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><p>As you see, you can add several listeners in one String array. You can
call the addListener() method more than once, each time with a subset of
your list, if that helps you keep you code tidy. Again, the Listeners do
not care about actual which keys are configured, you only register named
trigger mappings.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Did you register an action, but it does not work? Check the string&#x27;s
capitalization and spelling, it&#x27;s case sensitive!</p></div></div><ol start="5"><li><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="implement-actions-in-listeners"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#implement-actions-in-listeners" title="Direct link to heading">#</a>Implement Actions in Listeners</h1></li></ol><p>You specify the action to be triggered where it says TODO in the
Listener code snippets. Typically, you write a series of if/else
conditions, testing for all the mapping names, and then calling the
respective action.</p><p>Make use of the distinction between <code>if</code> and <code>else if</code> in this
conditional.</p><ul><li><p>If several actions can be triggered simultaneously, test for all of
these with a series of bare `if`s. For example, a character can be
running forward <em>and</em> to the left.</p></li><li><p>If certain actions exclude one another, test for them with
<code>else if</code>, the the rest of the exclusive tests can be skipped and
you save some miliseconds. For example, you either shoot or pick
something up.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="actionlistener-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#actionlistener-1" title="Direct link to heading">#</a>ActionListener</h2><p>In the most common case, you want an action to be triggered once, in the
moment when the button or key trigger is released. For example, when the
player presses a key to open a door, or clicks to pick up an item. For
these cases, use an ActionListener and test for <code>&amp;&amp; !keyPressed</code>, like
shown in the following example.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">ActionListener</span><span class="token plain"> actionListener </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ActionListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">onAction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> keyPressed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> tpf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Pause Game&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">keyPressed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// test?</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        isRunning </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">isRunning</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// action!</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="analoglistener-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#analoglistener-1" title="Direct link to heading">#</a>AnalogListener</h2><p>The following example shows how you define actions with an
AnalogListener. These actions are triggered continuously, as long
(intensity <code>value</code>) as the named key or mouse button is down. Use this
listeners for semi-automatic weapons and navigational actions.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">AnalogListener</span><span class="token plain"> analogListener </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">AnalogListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">onAnalog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> tpf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Rotate&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// test?</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        player</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">rotate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">speed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// action!</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="let-users-remap-keys"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#let-users-remap-keys" title="Direct link to heading">#</a>Let Users Remap Keys</h1><p>It is likely that your players have different keyboard layouts, are used
to &quot;reversed mouse navigation, or prefer different navigational keys
than the ones that you defined. You should create an options screen that
lets users customize their mouse/key triggers for your mappings. Replace
the trigger literals in the <code>inputManager.addMapping()</code> lines with
variables, and load sets of triggers when the game starts.</p><p>The abstraction of separating triggers and mappings has the advantage
that you can remap triggers easily. Your code only needs to remove and
add some trigger mappings. The core of the code (the listeners and
actions) remains unchanged.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="detecting-joystick-connection-states"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#detecting-joystick-connection-states" title="Direct link to heading">#</a>Detecting Joystick Connection States</h1><p>For information regarding the connection state of a joystick see
<a href="../../jme3/beginner/hello_input_system.xml#listening-for-joystick-connections">Listening for Joystick
Connections</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/8keep/wikidemo/edit/master/docs/jme3/advanced/input_handling.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#actionlistener" class="contents__link">ActionListener</a></li><li><a href="#analoglistener" class="contents__link">AnalogListener</a></li><li><a href="#actionlistener-1" class="contents__link">ActionListener</a></li><li><a href="#analoglistener-1" class="contents__link">AnalogListener</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 jMonkeyEngine.</div></div></div></footer>
</div>

<script src="/wikidemo/styles.08ff7081.js"></script>

<script src="/wikidemo/runtime~main.7418f8ca.js"></script>

<script src="/wikidemo/main.1b6aa70f.js"></script>

<script src="/wikidemo/1.e501629b.js"></script>

<script src="/wikidemo/2.c824d386.js"></script>

<script src="/wikidemo/302.1d1a2997.js"></script>

<script src="/wikidemo/394d525a.30c299b8.js"></script>

<script src="/wikidemo/17896441.d065d5f5.js"></script>

<script src="/wikidemo/39963ca1.87b5f2db.js"></script>


</body>
</html>