<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<script src="/js/dark_default.js"></script>

<title data-react-helmet="true">navigation | jMonkeyEngine Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="navigation | jMonkeyEngine Documentation"><meta data-react-helmet="true" name="description" content="This article describes JME&#x27;s mercator projection tool. If you don&#x27;t know"><meta data-react-helmet="true" property="og:description" content="This article describes JME&#x27;s mercator projection tool. If you don&#x27;t know"><meta data-react-helmet="true" property="og:url" content="https://8keep.github.io/wikidemo/docs/jme3/tools/navigation">

<link data-react-helmet="true" rel="shortcut icon" href="/wikidemoimg/favicon.ico">


<link rel="stylesheet" href="/wikidemostyles.7d008dc0.css">


<link rel="preload" href="/wikidemostyles.08ff7081.js" as="script">

<link rel="preload" href="/wikidemoruntime~main.aab3cf1b.js" as="script">

<link rel="preload" href="/wikidemomain.53cb7c94.js" as="script">

<link rel="preload" href="/wikidemo1.e501629b.js" as="script">

<link rel="preload" href="/wikidemo2.c824d386.js" as="script">

<link rel="preload" href="/wikidemo302.1d1a2997.js" as="script">

<link rel="preload" href="/wikidemo394d525a.30c299b8.js" as="script">

<link rel="preload" href="/wikidemo17896441.d065d5f5.js" as="script">

<link rel="preload" href="/wikidemo7bcb66cd.2b6e424d.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/wikidemo"><img class="navbar__logo" src="/wikidemoimg/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/wikidemodocs/documentation">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/wikidemo"><img class="navbar__logo" src="/wikidemoimg/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/wikidemodocs/documentation">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">navigation</h1></header><div class="markdown"><p>This article describes JME&#x27;s mercator projection tool. If you don&#x27;t know
what this means, we suggest you begin by reading <a href="http://en.wikisource.org/wiki/The_American_Practical_Navigator">The American Practical
Navigator</a>
or browsing Wikipedia. If you do know what a Mercator projection is,
then our &quot;Introduction to Marine Navigation might serve to refresh your
mind.</p><p><a href="http://en.wikipedia.org/wiki/Latitude">Wikipedia</a> is a source for
formulas shown here. Read it. Absorb it.</p><p><strong>Terms, Conventions and Definitions</strong> <strong>Charts</strong> are defined as
&quot;graphic representations of areas of the earth for use in marine or air
navigation whereby nautical charts depict features of particular
interest to the marine navigator[1].</p><p><strong>Prime Meridian</strong> designates the Greenwich meridian as of 1884.</p><p><strong>Distance</strong> is designated in nautical miles whereby one nautical mile
corresponds to one meridian arc minute (1,852 metres) at the equator.</p><p><strong>Sailing</strong> refers to various mathematical methods for determining
course, distance, and position. <strong>Speed</strong> refers to the rate of motion,
or distance per unit of time and is measured in knots (kn). One knot is
equal to one nautical mile per hour.</p><p><strong>Coordinates</strong> The purpose of coordinates is to define a distinct
position on earth. For the purpose of this project, only latitude and
longitude are of importance, although the reader should be aware that
other coordinate systems exists such as UMT (Universal Transverse
Mercator) and UPS (Universal Polar Stereographic).</p><p>Latitude is the angular distance from the equator, measured northward or
southward along a meridian from 0◦ at the equator to 90◦ at the
poles[1]. Within aviation and maritime navigation, latitude is
designated north (N) or south (S) to indicate the direction of
measurement. An equally valid notation designates north (N) to be
positive and south (S) to be negative. For example 18◦ N becomes 18
whilst 18◦ S becomes -18. Longitude is the angular distance between the
prime meridian and the meridian of a point on the earth, measured
eastward or westward from the prime meridian through 180◦. It is
designated east (E) or west (W) to indicate the direction of
measurement[1] however similar to angular measurements from the
equator, may be expressed in terms of negative (W) and positive (S). For
ex- ample 18◦ E becomes 18 whilst 18◦ W becomes -18. It is worth noting
that degrees can be further subdivided into minutes, whereby one degree
equals 60 minutes. Minutes in turn are subdivided into seconds whereby
each minute equals 60 seconds. Latitude and longitude coordinates are
therefore typically specified as degrees (◦), minutes (&#x27;) and seconds
(&quot;).</p><p>For example: 1◦ 2&#x27; 3&quot; W meaning 1 degree, 2 minutes and 3 seconds West.
This in turn can be translated into decimal notation whereby degrees are
expressed as a decimal fraction: therefore 1◦ 2&#x27; 3&quot; W would become
-1.034167. Alternatively these angular measurements may be converted to
radians (in which case they would be expressed as a signed fraction of
π). The difference of latitude between two places is the angular length
of arc of any meridian between their parallels. That is, it is the
numerical difference of the latitudes if the places are on the same side
of the equator or the sum of the latitudes if the points are on opposite
sides of the equator.[1]</p><p>Similarly, the difference of longitude between two places is the shorter
arc of the parallel or the smaller angle at the pole between the
meridians of the two places. If both places are on the same side (i.e
east or west) of Greenwich, then difference of longitude is the
numerical difference of the longitudes of the two places; otherwise the
difference of longitude is their numerical sum (unless of course this
exceeds 180◦. In that case it is 360◦ minus the sum).</p><p><img src="/images/jme3/tools/globe_lat_long.png" alt="Figure 1: Illustrated latitude (φ) and longitude (λ). Photo courtesy
of Wikimedia Inc."></p><p><strong>Meridional Parts</strong> As described by Bowditch, Meridional parts are
&quot;units of latitude that have been adjusted to compensate for the
distortion that results from projecting a three-dimensional globe onto a
two-dimensional Mercator chart&quot;.</p><p><strong>Bearing</strong> In marine navigation, bearing is defined as &quot;the direction
one object is from another object, usually, the direction of an object
from one&#x27;s own vessel&quot;. Note that this is not to be confused with the
equivalent term within aviation were bearing refers to &quot;the actual
(corrected) compass direction of the forward course of the aircraft.&quot;</p><p><strong>Heading and Course</strong> Heading is the direction in which a vessel is
pointed and is expressed as degrees from 0 to 359. Course is the over
ground track in which a vessel moves. With wind, water movement and
steering error, heading and course are not necessary equal.</p><p><strong>Mercator Projection</strong> Mercator projections are a standard within
nautical charts an represent rhumb lines (a.k.a loxodromes) as straight
segments. A mercator projection is of non- linear scale as it accounts
for distortion in latitude as one moves away from the Equator and
towards the poles (with the poles being defined as infinity. This notion
is illustrated to the right by figure 1.2). These distortions arise from
the fact that the earth is an oblate spheriod i.e. a sphere with a
flattened top and bottom (the poles). Therefore, as one moves away from
the equator, nautical metrics skew to the extend whereby the length of
one degree of latitude along the poles covers approximately 1 percent
more distance than at the equator.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="chart-projection"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#chart-projection" title="Direct link to heading">#</a>Chart Projection</h1><p>A Mercator projection is defined by its meridians and parallels, both of
which are expanded at an equal ratio with increasing latitude. This
expansion is due to the distortion that results from projecting an
oblate spheroid onto a two- dimensional surface (see introductory notes
above) and equates to the secant of the latitude in addition to a
correction for this distortion. Note that the secant of 90◦ is infinity,
and therefore Mercator projections cannot include the poles (thus the
mercator projection employed here stops at 85◦ North and South of the
equator).</p><p>Rhumb lines appear as straight lines.</p><p>The projection calculations are handled by the <code>MapModel2D</code> class, in
the case of 2D, and by <code>MapModel3D</code>, in the case of a 3D projection.
Fundamentally both projections function in the same manner, with their
only real differences being that <code>MapModel3D</code> introduces an extra
co-ordinate (z) and the replacement of the <code>toPixel()</code> method with
<code>toWorldUnit()</code> which converts a latitude/longitude coordinate object
into (x,y,z) world units as opposed to pixel (x,y) coordinates. The core
functionality of the entire system relies on the accurate conversion of
latitude/longitude into pixels/world units and vice versa. These
conversions are handled by <code>toPixel()</code>, <code>toWorldUnit()</code> and
<code>toPosition()</code> respectively. Note that all sailings used by this class
are located inside the NavCalculator class and will be elaborated upon
in the next section of this chapter.</p><p><strong>Minutes per pixel / Minutes per World Unit</strong> The number of pixels or
world units per minute serves as a baseline for all coordinate
conversions and is derived by dividing the total number of minutes of
longitude composing the chart (i.e. 360 * 60) by the width of the
canvas on which to render the projection (aka viewport):
<code>minutesPerPixel = (mapWidthInLongitude * 60) / (double) viewportWidth;</code></p><p><strong>toPixel</strong> Unlike commonly assumed, this method is not derived from the
inverse Guder- mannian function. Accepting a set of latitude/longitude
coordinates encapsulated in a Position object as a parameter, the method
returns the equivalent pixel (x, y) encapsulated as a Point object. This
conversion can be summarized as follows[2]:</p><ol><li><p>Ordered List Item Get the distance between the given position&#x27;s
longitude coordinate and the chart&#x27;s longitude centre.</p></li><li><p>Convert the obtained distance into pixels by dividing it with the
number of pixels that are contained within one minute. Refer to it
as distanceInPixels.</p></li><li><p>Calculate the x-coordinate by subtracting or adding it to the
canvas&#x27; x-centre coordinate (the canvas&#x27; x-centre coordinate being
the canvas width di- vided by two) depending on the location of the
position itself and the chart&#x27;s centre: That is, if the chart is
centred west of the prime meridian and if the position to be
converted is west of the centre, then the resulting x-coordinate is
the difference between the x-centre and the distanceInPixels
obtained in step 2 above. If however the centre is West and the
position is east of the centre, then the resulting x-coordinate
equates to the sum of the x-centre and its dis- tanceInPixels. The
opposite is true for an easterly centre and a position west of this
centre or an easterly centre and a position east of this centre.</p></li><li><p>Ordered List Item For the y-coordinate, the difference in meridional
parts between the chart&#x27;s latitude centre and the position&#x27;s
latitude serves as a baseline. Con- vert the difference to pixels by
dividing it by the number of pixels contained</p></li></ol><p>within one minute. Refer to it as dmp1.</p><ol><li>Ordered List Item Similar to step 3 above, calculate the
y-coordinate by subtracting or</li></ol><p>adding it to the canvas&#x27; y-centre coordinate (the canvas&#x27; y-centre being
the canvas height divided by two) depending on the location of the
position itself and the chart&#x27;s centre: That is, if the centre is north
and the position is north of the centre, then the resulting
y-coordinates equates to the difference between dmp and the y-centre
coordinate. If however the centre is north but the position is south of
the centre, then the resulting y-coordinate equates to their sum. The
opposites are true given that the centre lies in the southern
hemisphere.</p><p>The following converts a latitude/longitude coordinate pair into a JME
world-unit vector:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> worldWidth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">800</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">MapModel3D</span><span class="token plain"> m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MapModel3D</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">worldWidth</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Vector3f</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toWorldUnit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">53</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">InvalidPositionException</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">printStackTrace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p>To convert world units into latitude/longitude coordinates, use the map
model&#x27;s toPosition method:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> worldWidth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">800</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token class-name">MapModel3D</span><span class="token plain"> m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MapModel3D</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">worldWidth</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token class-name">Position</span><span class="token plain"> pos </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toPosition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vector3f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Latitude: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLatitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; Longitude: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLongitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">InvalidPositionException</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">printStackTrace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p>Navigational calculations are performed inside the <code>NavCalculator</code>
class.</p><p><strong>Mercator Sailing</strong> Mercator sailing is defined as &#x27;the process of
solving problems involving course, distance, difference of latitude and
difference of longitude, by considering them in relation to a Mercator
chart&#x27;[1]. Essentially, this refers to the plotting of a rhumb line2
on a Mercator chart whereby the rhumb line will appear as a straight
line. That is, given a constant bearing β north of the rhumb line,
longitude λ0 where the line passes the equator, λ1 being any longitude
point of the rhumb line, and φ being any latitude point on the rhumb
line then its Mercator projection can be derived as:</p><ul><li><p>x = λ1</p></li><li><p>y = m(λ1 − λ0)</p></li></ul><p>where slope m is cot(β), then λ and φ can be expressed as</p><ul><li><p>x = λ1</p></li><li><p>y = tanh−1(sin(φ) φ = sin−1(tanh(m(λ1 − λ0)))</p></li></ul><p>That is, tan(course) =
(differenceinlongitude)/(differenceinmeridionalparts) and distance =
(differenceinlatitude/cos(course)) where the difference in meridional
parts is defined in terms of a Clarke Spheroid.</p><p>This is implemented as follows where <code>RLSailing</code> and <code>Position</code> are
wrapper classes.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">RLSailing</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mercatorSailing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Position</span><span class="token plain"> p1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Position</span><span class="token plain"> p2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> dLat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">computeDLat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLatitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLatitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dLat </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token class-name">RLSailing</span><span class="token plain"> rl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">planeSailing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> dLong </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">computeDLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLongitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLongitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> dmp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">computeDMPClarkeSpheroid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLatitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getLatitude</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     trueCourse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toDegrees</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">atan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dLong </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> dmp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> degCrs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">convertCourse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> trueCourse</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     distance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dLat </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">cos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">trueCourse</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token class-name">RLSailing</span><span class="token plain"> rl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">RLSailing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">degCrs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     trueCourse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getCourse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p>where <em>dmp</em> refers to the difference in meridional parts.</p><p><strong>Difference in Meridional Parts</strong> Meridional parts are units of
latitude that have been adjusted to compensate for the distortion that
results from projecting an oblate spheroid onto a two- dimensional
surface.</p><p>Although other datums (such as WGS 84) are equally valid, the navigation
module performs all calculations within the context of the Clarke
spheroid of 1880 which has an equatorial radius of 6,378,249.145 meters,
a polar radius of 6,356,514.870 meters and an inverse flattening of
293.465 meters. The meridional part for any latitude L is therefore
defined as: M = 7915.704468 ∗ log(tan(45 + (L/2))) − 23.268932 ∗
(sin(L)) − 0.052500 ∗ (sin(L))3 − 0.000213 ∗ (sin(L))5</p><p>Where m1 and m2 refer to the meridional parts of the offset and
destination point respectively, the difference of meridional parts is
calculated as |m1 − m2| if both points are north, or south of the
equator or as their sum if one of the points is north and the other
south of the equator:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">computeDMPClarkeSpheroid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> lat1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> lat2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> absLat1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lat1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> absLat2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lat2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> m1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">7915.704468</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">tan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">45</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat1 </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23.268932</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.052500</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.000213</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> m2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">7915.704468</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">tan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">45</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat2 </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23.268932</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.052500</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.000213</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toRadians</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absLat2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lat1 </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> lat2 </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lat1 </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> lat2 </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m1 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> m2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> m1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> m2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p><strong>Course Conversion</strong> The conversion of a true course to its equivalent
compass course (i.e. con- version of true course to the targets course
over ground (COG) where &#x27;true course&#x27; is defined as the course to be
steered from true north3) as used by the <code>mercatorSailing</code> method is
achieved by subtracting the course variation from the true course, where
variation is the angular difference between true north and the direction
of the Earth&#x27;s magnetic field (consequently variation is termed East or
West depending on the target&#x27;s position relative to true north). Given
the true course between two positions, the COG is calculated by calling
NavCalculator.convertCourse(tc, p1, p2)</p><p><strong>Difference in Latitude</strong> The difference in latitude depends on the
hemisphere in which both positions are can be determined by calling
<code>NavCalculator.computeDLat(lat1, lat2)</code>.</p><p><strong>Difference in Longitude</strong> Similar to the difference in latitude, the
difference in longitude depends on which side of the prime meridian both
positions are in and can be determined by calling
NavCalculator.computeDLong(long1, long2).</p><p><strong>Bearing</strong> The direction that one target is from another. Given the
latitude of two points (φ0andφ1) and the longitude of two
points(λ0andλ1), bearing (θ) is defined as follows: Let dLon be the
difference in longitude of λ0andλ1, then</p><ul><li><p>x = (sin(dLon) ∗ cos(φ1)</p></li><li><p>y = cos(φ0) ∗ sin(φ1) − sin(φ0) ∗ cos(φ1) ∗ cos(dLon))</p></li><li><p>θ = 2arctan√ θ = atan2(y, x)</p></li><li><p>y</p></li></ul><p>x2+y2+x</p><p>Which can be determined as follows:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> bearing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">NavCalculator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">computeBearing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">53.6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8.1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">53</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">InvalidPositionException</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">printStackTrace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p>[1] Nathaniel Bowditch (1995), The American Practical Navigator,.
United States Government, National Ocean Service Publishing. [2]
Gebruers C., &quot;JMarine</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/8keep/wikidemo/edit/master/docs/jme3/tools/navigation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 jMonkeyEngine.</div></div></div></footer>
</div>

<script src="/wikidemostyles.08ff7081.js"></script>

<script src="/wikidemoruntime~main.aab3cf1b.js"></script>

<script src="/wikidemomain.53cb7c94.js"></script>

<script src="/wikidemo1.e501629b.js"></script>

<script src="/wikidemo2.c824d386.js"></script>

<script src="/wikidemo302.1d1a2997.js"></script>

<script src="/wikidemo394d525a.30c299b8.js"></script>

<script src="/wikidemo17896441.d065d5f5.js"></script>

<script src="/wikidemo7bcb66cd.2b6e424d.js"></script>


</body>
</html>