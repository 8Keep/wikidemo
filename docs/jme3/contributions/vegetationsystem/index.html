<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<script src="/js/dark_default.js"></script>

<title data-react-helmet="true">vegetationsystem | jMonkeyEngine Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="vegetationsystem | jMonkeyEngine Documentation"><meta data-react-helmet="true" name="description" content="This is the wiki page for the Forester grass/tree loading system. It"><meta data-react-helmet="true" property="og:description" content="This is the wiki page for the Forester grass/tree loading system. It"><meta data-react-helmet="true" property="og:url" content="https://8keep.github.io/wikidemo/docs/jme3/contributions/vegetationsystem">

<link data-react-helmet="true" rel="shortcut icon" href="/wikidemo/img/favicon.ico">


<link rel="stylesheet" href="/wikidemo/styles.7d008dc0.css">


<link rel="preload" href="/wikidemo/styles.08ff7081.js" as="script">

<link rel="preload" href="/wikidemo/runtime~main.7418f8ca.js" as="script">

<link rel="preload" href="/wikidemo/main.1b6aa70f.js" as="script">

<link rel="preload" href="/wikidemo/1.e501629b.js" as="script">

<link rel="preload" href="/wikidemo/2.c824d386.js" as="script">

<link rel="preload" href="/wikidemo/302.1d1a2997.js" as="script">

<link rel="preload" href="/wikidemo/394d525a.30c299b8.js" as="script">

<link rel="preload" href="/wikidemo/17896441.d065d5f5.js" as="script">

<link rel="preload" href="/wikidemo/518372e3.71e63e3a.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/wikidemo/"><img class="navbar__logo" src="/wikidemo/img/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wikidemo/docs/documentation">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/wikidemo/"><img class="navbar__logo" src="/wikidemo/img/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/wikidemo/docs/documentation">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">vegetationsystem</h1></header><div class="markdown"><p>This is the wiki page for the Forester grass/tree loading system. It
contains information on how to add vegetation to a scene, and how to
manage it. Grass and trees are treated differently, but the approaches
are very similar.</p><p>Topics are flagged as (basic) or (advanced). Advanced topics can be
skipped.</p><p>The library can be found in the Github <a href="https://github.com/jMonkeyEngine-Contributions">jMonkeyEngine Contributions
repository</a>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="the-forester-basic"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-forester-basic" title="Direct link to heading">#</a>The Forester (Basic)</h1><p>The Forester class is the root class of this lib. You can use it to
create grass/treeloaders, and a few other things. It also manages random
number tables and a few other things.</p><p>It is a singleton class, so it can be used anywhere for easy access to
Forester data.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="the-grass"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-grass" title="Direct link to heading">#</a>The grass</h1><p>Proceed to the grass section:
<a href="/wikidemo/docs/jme3/contributions/vegetationsystem/grass">jme3:contributions:vegetationsystem:grass</a></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="the-trees"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-trees" title="Direct link to heading">#</a>The trees</h1><p>Proceed to the tree section:
<a href="/wikidemo/docs/jme3/contributions/vegetationsystem/trees">jme3:contributions:vegetationsystem:trees</a></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="tuning-the-paging-engine-advanced"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tuning-the-paging-engine-advanced" title="Direct link to heading">#</a>Tuning the paging engine (Advanced)</h1><p>All tree/grassloaders use a paging engine to load/unload data. There are
some things you can do that affects performance and memory usage for
both trees and grass.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="manipulating-the-cache"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#manipulating-the-cache" title="Direct link to heading">#</a>Manipulating the cache</h2><p>The cache saves expired tiles for some time before disposing of them.
This makes it possible for the engine to re-use pages instead of having
to load and prepare them again.</p><p>An example: Lets say you walk across the border between two tiles.
Passing the border between two tiles prompts the engine to load new
tiles in the direction you are moving, and toss old ones away. Lets say
you then walk back directly. Or keep walking back and forth across that
border. Without the cache, you&#x27;d be loading and unloading tiles all the
time.</p><p>There is no point in turning it off, unless maybe if you use extremely
small tiles. You can change the cache timer however. Default time is 2
seconds (2000 ms actually, the value is in ms). After 2 seconds the
tiles are dropped from the cache.</p><p>To change the value, do this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">grassLoader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getPagingManager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setCacheTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><p>That would increase the cache time to 6 seconds.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="changing-the-tile-size--resolution"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#changing-the-tile-size--resolution" title="Direct link to heading">#</a>Changing the tile size &amp; resolution</h2><p>The tile size determines how much geometry is being loaded at the same
time. The resolution determines how many sub-geometries are in a tile.
If you increase resolution from 2 to 4, it would change the amount of
geometries in a tile from 4 to 16. You can think of resolution as being
the height/width of an image. If you double it, the size of the image is
squared.</p><p>Having few but large geometries is more efficient when rendering,
however. That is how GPUs work; they rather take a few large blocks of
data then many small ones. It also leads to less java objects, less
overhead etc.</p><p>Having many geometries, on the other side, ensures more geometry is
culled on average. If you use one mega-block of 512x512 square units,
you&#x27;d have to render the entire block even if you can only see a tiny
fraction of it. Also, when massive blocks are pushed in and out of the
rendering queue you might get noticeable increases/drops in frame-rate.</p><p>It is very hard to say what is the correct resolution in an application,
because it depends on very much, but it is possible to try a few
different settings and see which is best. This may have an effect on
performance; particularly if you&#x27;re using massive amounts of grass.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">It is generally not good to use gigantic geometries, or tiny ones - but larger is better than smaller.</span></div></div></div></div></div></div></div><p>More to come.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/8keep/wikidemo/edit/master/docs/jme3/contributions/vegetationsystem.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#manipulating-the-cache" class="contents__link">Manipulating the cache</a></li><li><a href="#changing-the-tile-size--resolution" class="contents__link">Changing the tile size &amp; resolution</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 jMonkeyEngine.</div></div></div></footer>
</div>

<script src="/wikidemo/styles.08ff7081.js"></script>

<script src="/wikidemo/runtime~main.7418f8ca.js"></script>

<script src="/wikidemo/main.1b6aa70f.js"></script>

<script src="/wikidemo/1.e501629b.js"></script>

<script src="/wikidemo/2.c824d386.js"></script>

<script src="/wikidemo/302.1d1a2997.js"></script>

<script src="/wikidemo/394d525a.30c299b8.js"></script>

<script src="/wikidemo/17896441.d065d5f5.js"></script>

<script src="/wikidemo/518372e3.71e63e3a.js"></script>


</body>
</html>