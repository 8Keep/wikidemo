<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<script src="/js/dark_default.js"></script>

<title data-react-helmet="true">terrain_editor | jMonkeyEngine Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="terrain_editor | jMonkeyEngine Documentation"><meta data-react-helmet="true" name="description" content="The terrain editor lets you create, modify, and paint terrain."><meta data-react-helmet="true" property="og:description" content="The terrain editor lets you create, modify, and paint terrain."><meta data-react-helmet="true" property="og:url" content="https://8keep.github.io/wikidemo/docs/sdk/terrain_editor">

<link data-react-helmet="true" rel="shortcut icon" href="/wikidemo/img/favicon.ico">


<link rel="stylesheet" href="/wikidemo/styles.7d008dc0.css">


<link rel="preload" href="/wikidemo/styles.08ff7081.js" as="script">

<link rel="preload" href="/wikidemo/runtime~main.7418f8ca.js" as="script">

<link rel="preload" href="/wikidemo/main.1b6aa70f.js" as="script">

<link rel="preload" href="/wikidemo/1.e501629b.js" as="script">

<link rel="preload" href="/wikidemo/2.c824d386.js" as="script">

<link rel="preload" href="/wikidemo/302.1d1a2997.js" as="script">

<link rel="preload" href="/wikidemo/394d525a.30c299b8.js" as="script">

<link rel="preload" href="/wikidemo/17896441.d065d5f5.js" as="script">

<link rel="preload" href="/wikidemo/159e8453.de73510f.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/wikidemo/"><img class="navbar__logo" src="/wikidemo/img/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wikidemo/docs/documentation">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/wikidemo/"><img class="navbar__logo" src="/wikidemo/img/iconx128.png" alt="JmonkeyEngine"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/wikidemo/docs/documentation">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/8keep/wikidemo" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">terrain_editor</h1></header><div class="markdown"><p>The terrain editor lets you create, modify, and paint terrain.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="controls"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#controls" title="Direct link to heading">#</a>Controls</h1><p>Terrain controls are the same as the Scene Composer, you rotate the
camera with the left mouse button and pan the camera with the right
mouse button. Until you select one of the terrain tools in the toolbar,
then the controls change for that tool. Then left mouse button will use
that tool: painting, raising/lowering terrain, etc. The right mouse
button might do something, depending on the tool.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="creating-terrain"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-terrain" title="Direct link to heading">#</a>Creating Terrain</h1><p>To create terrain, first select the <code>Scene</code> directory under your
<code>Project Assets</code> folder, right click and select
<code>New Other Scene Empty jme3 Scene</code>. This will generate an empty scene in
that directory. Right click this new file and then select
<code>Edit Terrain</code>. This will open the new file in the <code>TerrainEditor</code> and
display your scenes file structure in the <code>SceneExplorer</code> located at the
bottom left window of the SDK. In the <code>SceneExplorer</code> window, select a
node (usually your root node) in your scene.\
<img src="../sdk/sdk-terrain-tut-selectnode.png" alt="sdk-terrain-tut-selectnode.png">\
Then click the add terrain button.\
<img src="../sdk/sdk-terrain-tut-addterrain.png" alt="sdk-terrain-tut-addterrain.png">\
This will pop up the <code>Create Terrain</code> wizard that will walk you through
the steps for creating terrain. Make sure you decide now how large you
want your terrain to be and how detailed you want the textures to be as
you cannot change it later on!</p><p>In order to see the terrain, you will need to add light to your scene.
To do this, right-click the root node in the <code>SceneExplorer</code> window and
select <code>Add Light Directional Light</code>. Alternatively, you can create your
terrain and press the Toggle cam light button located in the menu at the
top of the open terrain window. You will need to add a light to your
scene by code in the <code>simpleinitApp()</code> method later so you can see the
terrain.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="step-1-terrain-size"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-1-terrain-size" title="Direct link to heading">#</a>Step 1: Terrain Size</h2><p>Here you determine the size of your terrain, the total size and the
patch size. You should probably leave the patch size alone. But the
total size should be defined; this is how big your terrain is.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="step-2-heightmap"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-2-heightmap" title="Direct link to heading">#</a>Step 2: Heightmap</h2><p>Here you can select a heightmap generation technique to give you a
default/random look of the terrain. You can also select a heightmap
image to pre-define how your terrain looks. By default, it will give you
a flat terrain.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="step-3-alpha-image-detail"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-3-alpha-image-detail" title="Direct link to heading">#</a>Step 3: Alpha Image Detail</h2><p>This step determines how large the alpha blend images are for your
terrain. The smaller the alpha image, the less detailed you can paint
the terrain. Play around with this to see how big you need it to be.
Remember that terrain does not have to be that detailed, and is often
covered by vegetation, rocks, and other items. So having a really
detailed texture is not always necessary.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="modifying-terrain"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#modifying-terrain" title="Direct link to heading">#</a>Modifying Terrain</h1><p>Right now there are two terrain modification tools: raise and lower
terrain.\
<img src="../sdk/sdk-terrain-raise-lower.png" alt="sdk-terrain-raise-lower.png">\
There are two sliders that affect how these tools operate:</p><ul><li><p>Radius: how big the brush is</p></li><li><p>Weight/Height: how much impact the brush has</p></li></ul><p>Once a tool is selected, you will see the tool marker (now an ugly wire
sphere) on the map where your mouse is. Click and drag on the terrain to
see the tool change the height of the terrain.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="painting-terrain"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#painting-terrain" title="Direct link to heading">#</a>Painting Terrain</h1><p>Your terrain comes with one diffuse default texture, and you can have up
to 12 total diffuse textures. It also allows you to add normal maps to
each texture layer. There can be a maximum of 13 textures, including
Diffuse and Normal (3 textures are taken up by alpha maps).</p><p>All of the textures can be controlled in the Texture Layer table by
clicking on the textures. There are two sliders that affect how the
paint tool operates:</p><ul><li><p>Radius: how big the brush is</p></li><li><p>Weight/Height: how much impact the brush has.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="adding-a-new-texture-layer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-a-new-texture-layer" title="Direct link to heading">#</a>Adding a new texture layer</h2><p>Adds a new texture layer to the terrain. The will be drawn over top of
the other texture layers listed above it in the list.</p><p><img src="../sdk/sdk-terrain-addtexture.png" alt="sdk-terrain-addtexture.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="changing-the-diffuse-texture"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#changing-the-diffuse-texture" title="Direct link to heading">#</a>Changing the diffuse texture</h2><p>Click on the diffuse texture image in the texture table. This will pop
up a window with the available textures in your assets directory.</p><p><img src="../sdk/sdk-terrain-editdiffuse.png" alt="sdk-terrain-editdiffuse.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="adding-a-normal-map-to-the-texture-layer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-a-normal-map-to-the-texture-layer" title="Direct link to heading">#</a>Adding a normal map to the texture layer</h2><p>When you add a texture layer, by default it does not add a normal map
for you. To add one, click on the button next to the diffuse texture for
that texture layer. This will pop up the texture browser. Select a
texture and hit Ok, and you are done.\
<img src="../sdk/sdk-terrain-addnormaltexture.png" alt="sdk-terrain-addnormaltexture.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="removing-a-normal-map-from-the-texture-layer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#removing-a-normal-map-from-the-texture-layer" title="Direct link to heading">#</a>Removing a normal map from the texture layer</h2><p>To remove a normal map from the texture layer, hit the normal map button
for that texture layer again, and deselect the texture. Then hit Ok and
the texture should be removed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="changing-the-texture-scale"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#changing-the-texture-scale" title="Direct link to heading">#</a>Changing the texture scale</h2><p>The field in the table to the right of the diffuse and normal textures
for your texture layer is the scale. Changing that value changes the
scale of the texture.\
<img src="../sdk/sdk-terrain-texturescale.png" alt="sdk-terrain-texturescale.png">\
You will notice that the scale changes when you switch between
Tri-Planar and normal texture mapping. Tri-planar mapping does not use
the texture coordinates of the geometry, but real world coordinates. And
because of this, in order for the texture to look the same when you
switch between the two texture mapping methods, the terrain editor will
automatically convert the scales for you. Essentially if your scale in
normal texture coordinates is 16, then for tri-planar gets converted
like this: 1/terrainSize/16</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="tri-planar-texture-mapping"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tri-planar-texture-mapping" title="Direct link to heading">#</a>Tri-planar texture mapping</h2><p>Tri-planar texture mapping is recommended if you have lots of
near-vertical terrain. With normal texture mapping the textures can look
stretched because it is rendered on the one plane: X-Z. Tri-planar
mapping renders the textures on three planes: X-Z, X-Y, Z-Y; and blends
them together based on what plane the normal of the triangle is facing
most on. This makes the terrain look much better, but it does have a
performance hit! Here is an article on tri-planar mapping:
<a href="https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch01.html">https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch01.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="total-texture-count"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#total-texture-count" title="Direct link to heading">#</a>Total texture count</h2><p>Terrain will support a maximum of 12 diffuse texture. And a combined
total of 13 diffuse and normal maps. Most video cards are limited to 16
texture units (textures), and 3 are used behind the scenes of the
terrain material for alpha blending of the textures, so you are left
with a maximum of 13 textures.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="generating-terrain-entropies-for-lod"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#generating-terrain-entropies-for-lod" title="Direct link to heading">#</a>Generating Terrain Entropies for LOD</h1><p>If you are using the recommended PerspectiveLodCalculator for
calculating LOD levels of the terrain, then you will want to
pre-generate the entropy levels for the terrain. This is a slow process.
If they are not pre-generated, the LOD control will generate them for
you, but this will lag the user when they load the scene, and the
terrain will flicker. Use the \&#x27;Generate Entropies\&#x27; button to
pre-generate the entropies for the terrain, they will be saved with it.
Note that whenever you modify the height of the terrain, you should
re-generate the entropies. Of course, don&#x27;t do this every time, but
maybe just before you are ready to send the map out for testing.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="loading-terrain-into-your-game"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#loading-terrain-into-your-game" title="Direct link to heading">#</a>Loading Terrain Into Your Game</h1><p>There are a few things your code needs to do to load the terrain.</p><ul><li><p>You must first use the asset manager to load the scene, see the
<a href="/wikidemo/docs/jme3/beginner/hello_asset">hello asset tutorial</a>.</p></li><li><p>The terrain (as you can see on the left in the editor) is a sub-node
of the scene, so you have to write code to investigate the child
nodes of the scene until you find the node that is the terrain, see
<a href="/wikidemo/docs/jme3/the_scene_graph">this tutorial for scene graph
concepts</a>.</p></li><li><p>You also have to set the camera on the LOD control in order for it
to work correctly:</p></li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token class-name">TerrainLodControl</span><span class="token plain"> lodControl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">terrain</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getControl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">TerrainLodControl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lodControl </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                lodControl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setCamera</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">getCamera</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/8keep/wikidemo/edit/master/docs/sdk/terrain_editor.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#step-1-terrain-size" class="contents__link">Step 1: Terrain Size</a></li><li><a href="#step-2-heightmap" class="contents__link">Step 2: Heightmap</a></li><li><a href="#step-3-alpha-image-detail" class="contents__link">Step 3: Alpha Image Detail</a></li><li><a href="#adding-a-new-texture-layer" class="contents__link">Adding a new texture layer</a></li><li><a href="#changing-the-diffuse-texture" class="contents__link">Changing the diffuse texture</a></li><li><a href="#adding-a-normal-map-to-the-texture-layer" class="contents__link">Adding a normal map to the texture layer</a></li><li><a href="#removing-a-normal-map-from-the-texture-layer" class="contents__link">Removing a normal map from the texture layer</a></li><li><a href="#changing-the-texture-scale" class="contents__link">Changing the texture scale</a></li><li><a href="#tri-planar-texture-mapping" class="contents__link">Tri-planar texture mapping</a></li><li><a href="#total-texture-count" class="contents__link">Total texture count</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 jMonkeyEngine.</div></div></div></footer>
</div>

<script src="/wikidemo/styles.08ff7081.js"></script>

<script src="/wikidemo/runtime~main.7418f8ca.js"></script>

<script src="/wikidemo/main.1b6aa70f.js"></script>

<script src="/wikidemo/1.e501629b.js"></script>

<script src="/wikidemo/2.c824d386.js"></script>

<script src="/wikidemo/302.1d1a2997.js"></script>

<script src="/wikidemo/394d525a.30c299b8.js"></script>

<script src="/wikidemo/17896441.d065d5f5.js"></script>

<script src="/wikidemo/159e8453.de73510f.js"></script>


</body>
</html>